
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Command Line Options &#8212; x265  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Application Programming Interface" href="api.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api.html" title="Application Programming Interface"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">x265  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="command-line-options">
<h1>Command Line Options<a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h1>
<p id="string-options-ref">Note that unless an option is listed as <strong>CLI ONLY</strong> the option is also
supported by x265_param_parse(). The CLI uses getopt to parse the
command line options so the short or long versions may be used and the
long options may be truncated to the shortest unambiguous abbreviation.
Users of the API must pass x265_param_parse() the full option name.</p>
<p>Preset and tune have special implications. The API user must call
x265_param_default_preset() with the preset and tune parameters they
wish to use, prior to calling x265_param_parse() to set any additional
fields. The CLI does this for the user implicitly, so all CLI options
are applied after the user’s preset and tune choices, regardless of the
order of the arguments on the command line.</p>
<p>If there is an extra command line argument (not an option or an option
value) the CLI will treat it as the input filename.  This effectively
makes the <a class="reference internal" href="#cmdoption-input"><code class="xref std std-option docutils literal notranslate"><span class="pre">--input</span></code></a> specifier optional for the input file. If
there are two extra arguments, the second is treated as the output
bitstream filename, making <a class="reference internal" href="#cmdoption-output"><code class="xref std std-option docutils literal notranslate"><span class="pre">--output</span></code></a> also optional if the input
filename was implied. This makes <strong class="command">x265 in.y4m out.hevc</strong> a valid
command line. If there are more than two extra arguments, the CLI will
consider this an error and abort.</p>
<p>Generally, when an option expects a string value from a list of strings
the user may specify the integer ordinal of the value they desire. ie:
<a class="reference internal" href="#cmdoption-log-level"><code class="xref std std-option docutils literal notranslate"><span class="pre">--log-level</span></code></a> 3 is equivalent to <a class="reference internal" href="#cmdoption-log-level"><code class="xref std std-option docutils literal notranslate"><span class="pre">--log-level</span></code></a> debug.</p>
<div class="section" id="executable-options">
<h2>Executable Options<a class="headerlink" href="#executable-options" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-help">
<code class="sig-name descname">--help</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-h</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-help" title="Permalink to this definition">¶</a></dt>
<dd><p>Display help text</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-version">
<code class="sig-name descname">--version</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-V</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Display version details</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<p>Command line executable return codes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.</span> <span class="n">encode</span> <span class="n">successful</span>
<span class="mf">1.</span> <span class="n">unable</span> <span class="n">to</span> <span class="n">parse</span> <span class="n">command</span> <span class="n">line</span>
<span class="mf">2.</span> <span class="n">unable</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">encoder</span>
<span class="mf">3.</span> <span class="n">unable</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">stream</span> <span class="n">headers</span>
<span class="mf">4.</span> <span class="n">encoder</span> <span class="n">abort</span>
</pre></div>
</div>
</div>
<div class="section" id="logging-statistic-options">
<h2>Logging/Statistic Options<a class="headerlink" href="#logging-statistic-options" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-log-level">
<code class="sig-name descname">--log-level</code><code class="sig-prename descclassname"> &lt;integer|string&gt;</code><a class="headerlink" href="#cmdoption-log-level" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls the level of information displayed on the console. Debug level
enables per-frame QP, metric, and bitrate logging. Full level enables
hash and weight logging. -1 disables all logging, except certain fatal
errors, and can be specified by the string “none”.</p>
<ol class="arabic simple" start="0">
<li><p>error</p></li>
<li><p>warning</p></li>
<li><p>info <strong>(default)</strong></p></li>
<li><p>debug</p></li>
<li><p>full</p></li>
</ol>
</dd></dl>

<dl class="option">
<dt id="cmdoption-no-progress">
<code class="sig-name descname">--no-progress</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-no-progress" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable periodic progress reports from the CLI</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-csv">
<code class="sig-name descname">--csv</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Write encoding statistics to a Comma Separated Values log file. Creates
the file if it doesn’t already exist. If <a class="reference internal" href="#cmdoption-csv-log-level"><code class="xref std std-option docutils literal notranslate"><span class="pre">--csv-log-level</span></code></a> is 0,
it adds one line per run. If <a class="reference internal" href="#cmdoption-csv-log-level"><code class="xref std std-option docutils literal notranslate"><span class="pre">--csv-log-level</span></code></a> is greater than
0, it writes one line per frame. Default none</p>
<p>The following statistics are available when <a class="reference internal" href="#cmdoption-csv-log-level"><code class="xref std std-option docutils literal notranslate"><span class="pre">--csv-log-level</span></code></a> is
greater than or equal to 1:</p>
<p><strong>Encode Order</strong> The frame order in which the encoder encodes.</p>
<p><strong>Type</strong> Slice type of the frame.</p>
<p><strong>POC</strong> Picture Order Count - The display order of the frames.</p>
<p><strong>QP</strong> Quantization Parameter decided for the frame.</p>
<p><strong>Bits</strong> Number of bits consumed by the frame.</p>
<p><strong>Scenecut</strong> 1 if the frame is a scenecut, 0 otherwise.</p>
<p><strong>RateFactor</strong> Applicable only when CRF is enabled. The rate factor depends
on the CRF given by the user. This is used to determine the QP so as to
target a certain quality.</p>
<p><strong>BufferFill</strong> Bits available for the next frame. Includes bits carried
over from the current frame.</p>
<p><strong>BufferFillFinal</strong> Buffer bits available after removing the frame out of CPB.</p>
<p><strong>Latency</strong> Latency in terms of number of frames between when the frame
was given in and when the frame is given out.</p>
<p><strong>PSNR</strong> Peak signal to noise ratio for Y, U and V planes.</p>
<p><strong>SSIM</strong> A quality metric that denotes the structural similarity between frames.</p>
<p><strong>Ref lists</strong> POC of references in lists 0 and 1 for the frame.</p>
<p>Several statistics about the encoded bitstream and encoder performance are
available when <a class="reference internal" href="#cmdoption-csv-log-level"><code class="xref std std-option docutils literal notranslate"><span class="pre">--csv-log-level</span></code></a> is greater than or equal to 2:</p>
<p><strong>I/P cost ratio:</strong> The ratio between the cost when a frame is decided as an
I frame to that when it is decided as a P frame as computed from the
quarter-resolution frame in look-ahead. This, in combination with other parameters
such as position of the frame in the GOP, is used to decide scene transitions.</p>
<p><strong>Analysis statistics:</strong></p>
<p><strong>CU Statistics</strong> percentage of CU modes.</p>
<p><strong>Distortion</strong> Average luma and chroma distortion. Calculated as
SSE is done on fenc and recon(after quantization).</p>
<p><strong>Psy Energy</strong>  Average psy energy calculated as the sum of absolute
difference between source and recon energy. Energy is measured by sa8d
minus SAD.</p>
<p><strong>Residual Energy</strong> Average residual energy. SSE is calculated on fenc
and pred(before quantization).</p>
<p><strong>Luma/Chroma Values</strong> minumum, maximum and average(averaged by area)
luma and chroma values of source for each frame.</p>
<p><strong>PU Statistics</strong> percentage of PU modes at each depth.</p>
<p><strong>Performance statistics:</strong></p>
<p><strong>DecideWait ms</strong> number of milliseconds the frame encoder had to
wait, since the previous frame was retrieved by the API thread,
before a new frame has been given to it. This is the latency
introduced by slicetype decisions (lookahead).</p>
<p><strong>Row0Wait ms</strong> number of milliseconds since the frame encoder
received a frame to encode before its first row of CTUs is allowed
to begin compression. This is the latency introduced by reference
frames making reconstructed and filtered rows available.</p>
<p><strong>Wall time ms</strong> number of milliseconds between the first CTU
being ready to be compressed and the entire frame being compressed
and the output NALs being completed.</p>
<p><strong>Ref Wait Wall ms</strong> number of milliseconds between the first
reference row being available and the last reference row becoming
available.</p>
<p><strong>Total CTU time ms</strong> the total time (measured in milliseconds)
spent by worker threads compressing and filtering CTUs for this
frame.</p>
<p><strong>Stall Time ms</strong> the number of milliseconds of the reported wall
time that were spent with zero worker threads, aka all compression
was completely stalled.</p>
<p><strong>Total frame time</strong> Total time spent to encode the frame.</p>
<p><strong>Avg WPP</strong> the average number of worker threads working on this
frame, at any given time. This value is sampled at the completion of
each CTU. This shows the effectiveness of Wavefront Parallel
Processing.</p>
<p><strong>Row Blocks</strong> the number of times a worker thread had to abandon
the row of CTUs it was encoding because the row above it was not far
enough ahead for the necessary reference data to be available. This
is more of a problem for P frames where some blocks are much more
expensive than others.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-csv-log-level">
<code class="sig-name descname">--csv-log-level</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-csv-log-level" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls the level of detail (and size) of –csv log files</p>
<ol class="arabic simple" start="0">
<li><p>summary <strong>(default)</strong></p></li>
<li><p>frame level logging</p></li>
<li><p>frame level logging with performance statistics</p></li>
</ol>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ssim">
<code class="sig-name descname">--ssim</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-ssim</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-ssim" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and report Structural Similarity values. It is
recommended to use <a class="reference internal" href="#cmdoption-tune"><code class="xref std std-option docutils literal notranslate"><span class="pre">--tune</span></code></a> ssim if you are measuring ssim,
else the results should not be used for comparison purposes.
Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-psnr">
<code class="sig-name descname">--psnr</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-psnr</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-psnr" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and report Peak Signal to Noise Ratio.  It is recommended
to use <a class="reference internal" href="#cmdoption-tune"><code class="xref std std-option docutils literal notranslate"><span class="pre">--tune</span></code></a> psnr if you are measuring PSNR, else the
results should not be used for comparison purposes.  Default
disabled</p>
</dd></dl>

</div>
<div class="section" id="performance-options">
<h2>Performance Options<a class="headerlink" href="#performance-options" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-asm">
<code class="sig-name descname">--asm</code><code class="sig-prename descclassname"> &lt;integer:false:string&gt;</code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-asm</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-asm" title="Permalink to this definition">¶</a></dt>
<dd><p>x265 will use all detected CPU SIMD architectures by default. You can
disable all assembly by using <a class="reference internal" href="#cmdoption-asm"><code class="xref std std-option docutils literal notranslate"><span class="pre">--no-asm</span></code></a> or you can specify
a comma separated list of SIMD architectures to use, matching these
strings: MMX2, SSE, SSE2, SSE3, SSSE3, SSE4, SSE4.1, SSE4.2, AVX, XOP, FMA4, AVX2, FMA3</p>
<p>Some higher architectures imply lower ones being present, this is
handled implicitly.</p>
<p>One may also directly supply the CPU capability bitmap as an integer.</p>
<p>Note that by specifying this option you are overriding x265’s CPU
detection and it is possible to do this wrong. You can cause encoder
crashes by specifying SIMD architectures which are not supported on
your CPU.</p>
<p>Default: auto-detected SIMD architectures</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-frame-threads">
<code class="sig-name descname">--frame-threads</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-F</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-frame-threads" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of concurrently encoded frames. Using a single frame thread
gives a slight improvement in compression, since the entire reference
frames are always available for motion compensation, but it has
severe performance implications. Default is an autodetected count
based on the number of CPU cores and whether WPP is enabled or not.</p>
<p>Over-allocation of frame threads will not improve performance, it
will generally just increase memory use.</p>
<p><strong>Values:</strong> any value between 0 and 16. Default is 0, auto-detect</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-pools">
<code class="sig-name descname">--pools</code><code class="sig-prename descclassname"> &lt;string&gt;</code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--numa-pools</code><code class="sig-prename descclassname"> &lt;string&gt;</code><a class="headerlink" href="#cmdoption-pools" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated list of threads per NUMA node. If “none”, then no worker
pools are created and only frame parallelism is possible. If NULL or “”
(default) x265 will use all available threads on each NUMA node:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;+&#39;</span>  <span class="ow">is</span> <span class="n">a</span> <span class="n">special</span> <span class="n">value</span> <span class="n">indicating</span> <span class="nb">all</span> <span class="n">cores</span> <span class="n">detected</span> <span class="n">on</span> <span class="n">the</span> <span class="n">node</span>
<span class="s1">&#39;*&#39;</span>  <span class="ow">is</span> <span class="n">a</span> <span class="n">special</span> <span class="n">value</span> <span class="n">indicating</span> <span class="nb">all</span> <span class="n">cores</span> <span class="n">detected</span> <span class="n">on</span> <span class="n">the</span> <span class="n">node</span> <span class="ow">and</span> <span class="nb">all</span> <span class="n">remaining</span> <span class="n">nodes</span>
<span class="s1">&#39;-&#39;</span>  <span class="ow">is</span> <span class="n">a</span> <span class="n">special</span> <span class="n">value</span> <span class="n">indicating</span> <span class="n">no</span> <span class="n">cores</span> <span class="n">on</span> <span class="n">the</span> <span class="n">node</span><span class="p">,</span> <span class="n">same</span> <span class="k">as</span> <span class="s1">&#39;0&#39;</span>
</pre></div>
</div>
<p>example strings for a 4-node system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;&quot;</span>        <span class="o">-</span> <span class="n">default</span><span class="p">,</span> <span class="n">unspecified</span><span class="p">,</span> <span class="nb">all</span> <span class="n">numa</span> <span class="n">nodes</span> <span class="n">are</span> <span class="n">used</span> <span class="k">for</span> <span class="n">thread</span> <span class="n">pools</span>
<span class="s2">&quot;*&quot;</span>       <span class="o">-</span> <span class="n">same</span> <span class="k">as</span> <span class="n">default</span>
<span class="s2">&quot;none&quot;</span>    <span class="o">-</span> <span class="n">no</span> <span class="n">thread</span> <span class="n">pools</span> <span class="n">are</span> <span class="n">created</span><span class="p">,</span> <span class="n">only</span> <span class="n">frame</span> <span class="n">parallelism</span> <span class="n">possible</span>
<span class="s2">&quot;-&quot;</span>       <span class="o">-</span> <span class="n">same</span> <span class="k">as</span> <span class="s2">&quot;none&quot;</span>
<span class="s2">&quot;10&quot;</span>      <span class="o">-</span> <span class="n">allocate</span> <span class="n">one</span> <span class="n">pool</span><span class="p">,</span> <span class="n">using</span> <span class="n">up</span> <span class="n">to</span> <span class="mi">10</span> <span class="n">cores</span> <span class="n">on</span> <span class="nb">all</span> <span class="n">available</span> <span class="n">nodes</span>
<span class="s2">&quot;-,+&quot;</span>     <span class="o">-</span> <span class="n">allocate</span> <span class="n">one</span> <span class="n">pool</span><span class="p">,</span> <span class="n">using</span> <span class="nb">all</span> <span class="n">cores</span> <span class="n">on</span> <span class="n">node</span> <span class="mi">1</span>
<span class="s2">&quot;+,-,+&quot;</span>   <span class="o">-</span> <span class="n">allocate</span> <span class="n">one</span> <span class="n">pool</span><span class="p">,</span> <span class="n">using</span> <span class="n">only</span> <span class="n">cores</span> <span class="n">on</span> <span class="n">nodes</span> <span class="mi">0</span> <span class="ow">and</span> <span class="mi">2</span>
<span class="s2">&quot;+,-,+,-&quot;</span> <span class="o">-</span> <span class="n">allocate</span> <span class="n">one</span> <span class="n">pool</span><span class="p">,</span> <span class="n">using</span> <span class="n">only</span> <span class="n">cores</span> <span class="n">on</span> <span class="n">nodes</span> <span class="mi">0</span> <span class="ow">and</span> <span class="mi">2</span>
<span class="s2">&quot;-,*&quot;</span>     <span class="o">-</span> <span class="n">allocate</span> <span class="n">one</span> <span class="n">pool</span><span class="p">,</span> <span class="n">using</span> <span class="nb">all</span> <span class="n">cores</span> <span class="n">on</span> <span class="n">nodes</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="ow">and</span> <span class="mi">3</span>
<span class="s2">&quot;8,8,8,8&quot;</span> <span class="o">-</span> <span class="n">allocate</span> <span class="n">four</span> <span class="n">pools</span> <span class="k">with</span> <span class="n">up</span> <span class="n">to</span> <span class="mi">8</span> <span class="n">threads</span> <span class="ow">in</span> <span class="n">each</span> <span class="n">pool</span>
<span class="s2">&quot;8,+,+,+&quot;</span> <span class="o">-</span> <span class="n">allocate</span> <span class="n">two</span> <span class="n">pools</span><span class="p">,</span> <span class="n">the</span> <span class="n">first</span> <span class="k">with</span> <span class="mi">8</span> <span class="n">threads</span> <span class="n">on</span> <span class="n">node</span> <span class="mi">0</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">second</span> <span class="k">with</span> <span class="nb">all</span> <span class="n">cores</span> <span class="n">on</span> <span class="n">node</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span>
</pre></div>
</div>
<p>A thread pool dedicated to a given NUMA node is enabled only when the
number of threads to be created on that NUMA node is explicitly mentioned
in that corresponding position with the –pools option. Else, all threads
are spawned from a single pool. The total number of threads will be
determined by the number of threads assigned to the enabled NUMA nodes for
that pool. The worker threads are be given affinity to all the enabled
NUMA nodes for that pool and may migrate between them, unless explicitly
specified as described above.</p>
<p>In the case that any threadpool has more than 64 threads, the threadpool
may be broken down into multiple pools of 64 threads each; on 32-bit
machines, this number is 32. All pools are given affinity to the NUMA
nodes on which the original pool had affinity. For performance reasons,
the last thread pool is spawned only if it has more than 32 threads for
64-bit machines, or 16 for 32-bit machines. If the total number of threads
in the system doesn’t obey this constraint, we may spawn fewer threads
than cores which has been emperically shown to be better for performance.</p>
<p>If the four pool features: <a class="reference internal" href="#cmdoption-wpp"><code class="xref std std-option docutils literal notranslate"><span class="pre">--wpp</span></code></a>, <a class="reference internal" href="#cmdoption-pmode"><code class="xref std std-option docutils literal notranslate"><span class="pre">--pmode</span></code></a>,
<a class="reference internal" href="#cmdoption-pme"><code class="xref std std-option docutils literal notranslate"><span class="pre">--pme</span></code></a> and <a class="reference internal" href="#cmdoption-lookahead-slices"><code class="xref std std-option docutils literal notranslate"><span class="pre">--lookahead-slices</span></code></a> are all disabled,
then <a class="reference internal" href="#cmdoption-pools"><code class="xref std std-option docutils literal notranslate"><span class="pre">--pools</span></code></a> is ignored and no thread pools are created.</p>
<p>If “none” is specified, then all four of the thread pool features are
implicitly disabled.</p>
<p>Frame encoders are distributed between the available thread pools,
and the encoder will never generate more thread pools than
<a class="reference internal" href="#cmdoption-frame-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--frame-threads</span></code></a>.  The pools are used for WPP and for
distributed analysis and motion search.</p>
<p>On Windows, the native APIs offer sufficient functionality to
discover the NUMA topology and enforce the thread affinity that
libx265 needs (so long as you have not chosen to target XP or
Vista), but on POSIX systems it relies on libnuma for this
functionality. If your target POSIX system is single socket, then
building without libnuma is a perfectly reasonable option, as it
will have no effect on the runtime behavior. On a multiple-socket
system, a POSIX build of libx265 without libnuma will be less work
efficient. See <a class="reference internal" href="threading.html#pools"><span class="std std-ref">thread pools</span></a> for more detail.</p>
<p>Default “”, one pool is created across all available NUMA nodes, with
one thread allocated per detected hardware thread
(logical CPU cores). In the case that the total number of threads is more
than the maximum size that ATOMIC operations can handle (32 for 32-bit
compiles, and 64 for 64-bit compiles), multiple thread pools may be
spawned subject to the performance constraint described above.</p>
<p>Note that the string value will need to be escaped or quoted to
protect against shell expansion on many platforms</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-wpp">
<code class="sig-name descname">--wpp</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-wpp</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-wpp" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable Wavefront Parallel Processing. The encoder may begin encoding
a row as soon as the row above it is at least two CTUs ahead in the
encode process. This gives a 3-5x gain in parallelism for about 1%
overhead in compression efficiency.</p>
<p>This feature is implicitly disabled when no thread pool is present.</p>
<p>Default: Enabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-pmode">
<code class="sig-name descname">--pmode</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-pmode</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-pmode" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel mode decision, or distributed mode analysis. When enabled
the encoder will distribute the analysis work of each CU (merge,
inter, intra) across multiple worker threads. Only recommended if
x265 is not already saturating the CPU cores. In RD levels 3 and 4
it will be most effective if –rect is enabled. At RD levels 5 and
6 there is generally always enough work to distribute to warrant the
overhead, assuming your CPUs are not already saturated.</p>
<p>–pmode will increase utilization without reducing compression
efficiency. In fact, since the modes are all measured in parallel it
makes certain early-outs impractical and thus you usually get
slightly better compression when it is enabled (at the expense of
not skipping improbable modes). This bypassing of early-outs can
cause pmode to slow down encodes, especially at faster presets.</p>
<p>This feature is implicitly disabled when no thread pool is present.</p>
<p>Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-pme">
<code class="sig-name descname">--pme</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-pme</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-pme" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel motion estimation. When enabled the encoder will distribute
motion estimation across multiple worker threads when more than two
references require motion searches for a given CU. Only recommended
if x265 is not already saturating CPU cores. <a class="reference internal" href="#cmdoption-pmode"><code class="xref std std-option docutils literal notranslate"><span class="pre">--pmode</span></code></a> is
much more effective than this option, since the amount of work it
distributes is substantially higher. With –pme it is not unusual
for the overhead of distributing the work to outweigh the
parallelism benefits.</p>
<p>This feature is implicitly disabled when no thread pool is present.</p>
<p>–pme will increase utilization on many core systems with no effect
on the output bitstream.</p>
<p>Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-preset">
<code class="sig-name descname">--preset</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-p</code><code class="sig-prename descclassname"> &lt;integer|string&gt;</code><a class="headerlink" href="#cmdoption-preset" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets parameters to preselected values, trading off compression efficiency against
encoding speed. These parameters are applied before all other input parameters are
applied, and so you can override any parameters that these values control.  See
<a class="reference internal" href="presets.html#presets"><span class="std std-ref">presets</span></a> for more detail.</p>
<ol class="arabic simple" start="0">
<li><p>ultrafast</p></li>
<li><p>superfast</p></li>
<li><p>veryfast</p></li>
<li><p>faster</p></li>
<li><p>fast</p></li>
<li><p>medium <strong>(default)</strong></p></li>
<li><p>slow</p></li>
<li><p>slower</p></li>
<li><p>veryslow</p></li>
<li><p>placebo</p></li>
</ol>
</dd></dl>

<dl class="option">
<dt id="cmdoption-tune">
<code class="sig-name descname">--tune</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-t</code><code class="sig-prename descclassname"> &lt;string&gt;</code><a class="headerlink" href="#cmdoption-tune" title="Permalink to this definition">¶</a></dt>
<dd><p>Tune the settings for a particular type of source or situation. The changes will
be applied after <a class="reference internal" href="#cmdoption-preset"><code class="xref std std-option docutils literal notranslate"><span class="pre">--preset</span></code></a> but before all other parameters. Default none.
See <a class="reference internal" href="presets.html#tunings"><span class="std std-ref">tunings</span></a> for more detail.</p>
<p><strong>Values:</strong> psnr, ssim, grain, zero-latency, fast-decode, animation.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-slices">
<code class="sig-name descname">--slices</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-slices" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode each incoming frame as multiple parallel slices that may be decoded
independently. Support available only for rectangular slices that cover the
entire width of the image.</p>
<p>Recommended for improving encoder performance only if frame-parallelism and
WPP are unable to maximize utilization on given hardware.</p>
<p>Default: 1 slice per frame. <strong>Experimental feature</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-copy-pic">
<code class="sig-name descname">--copy-pic</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-copy-pic</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-copy-pic" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow encoder to copy input x265 pictures to internal frame buffers. When disabled,
x265 will not make an internal copy of the input picture and will work with the
application’s buffers. While this allows for deeper integration, it is the responsbility
of the application to (a) ensure that the allocated picture has extra space for padding
that will be done by the library, and (b) the buffers aren’t recycled until the library
has completed encoding this frame (which can be figured out by tracking NALs output by x265)</p>
<p>Default: enabled</p>
</dd></dl>

</div>
<div class="section" id="input-output-file-options">
<h2>Input/Output File Options<a class="headerlink" href="#input-output-file-options" title="Permalink to this headline">¶</a></h2>
<p>These options all describe the input video sequence or, in the case of
<a class="reference internal" href="#cmdoption-dither"><code class="xref std std-option docutils literal notranslate"><span class="pre">--dither</span></code></a>, operations that are performed on the sequence prior
to encode. All options dealing with files (names, formats, offsets or
frame counts) are only applicable to the CLI application.</p>
<dl class="option">
<dt id="cmdoption-input">
<code class="sig-name descname">--input</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-input" title="Permalink to this definition">¶</a></dt>
<dd><p>Input filename, only raw YUV or Y4M supported. Use single dash for
stdin. This option name will be implied for the first “extra”
command line argument.</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-y4m">
<code class="sig-name descname">--y4m</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-y4m" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse input stream as YUV4MPEG2 regardless of file extension,
primarily intended for use with stdin (ie: <a class="reference internal" href="#cmdoption-input"><code class="xref std std-option docutils literal notranslate"><span class="pre">--input</span></code></a> -
<a class="reference internal" href="#cmdoption-y4m"><code class="xref std std-option docutils literal notranslate"><span class="pre">--y4m</span></code></a>).  This option is implied if the input filename has
a “.y4m” extension</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-input-depth">
<code class="sig-name descname">--input-depth</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-input-depth" title="Permalink to this definition">¶</a></dt>
<dd><p>YUV only: Bit-depth of input file or stream</p>
<p><strong>Values:</strong> any value between 8 and 16. Default is internal depth.</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-frames">
<code class="sig-name descname">--frames</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-frames" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of frames intended to be encoded.  It may be left
unspecified, but when it is specified rate control can make use of
this information. It is also used to determine if an encode is
actually a stillpicture profile encode (single frame)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-dither">
<code class="sig-name descname">--dither</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-dither" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable high quality downscaling to the encoder’s internal bitdepth.
Dithering is based on the diffusion     of errors from one row of pixels
to the next row of pixels in a picture. Only applicable when the
input bit depth is larger than 8bits. Default disabled</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-input-res">
<code class="sig-name descname">--input-res</code><code class="sig-prename descclassname"> &lt;wxh&gt;</code><a class="headerlink" href="#cmdoption-input-res" title="Permalink to this definition">¶</a></dt>
<dd><p>YUV only: Source picture size [w x h]</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-input-csp">
<code class="sig-name descname">--input-csp</code><code class="sig-prename descclassname"> &lt;integer|string&gt;</code><a class="headerlink" href="#cmdoption-input-csp" title="Permalink to this definition">¶</a></dt>
<dd><p>Chroma Subsampling (YUV only):  Only 4:0:0(monochrome), 4:2:0, 4:2:2, and 4:4:4 are supported at this time.
The chroma subsampling format of your input must match your desired output chroma subsampling format
(libx265 will not perform any chroma subsampling conversion), and it must be supported by the
HEVC profile you have specified.</p>
<ol class="arabic simple" start="0">
<li><p>i400 (4:0:0 monochrome) - Not supported by Main or Main10 profiles</p></li>
<li><p>i420 (4:2:0 default)    - Supported by all HEVC profiles</p></li>
<li><p>i422 (4:2:2)            - Not supported by Main, Main10 and Main12 profiles</p></li>
<li><p>i444 (4:4:4)            - Supported by Main 4:4:4, Main 4:4:4 10, Main 4:4:4 12, Main 4:4:4 16 Intra profiles</p></li>
<li><p>nv12</p></li>
<li><p>nv16</p></li>
</ol>
</dd></dl>

<dl class="option">
<dt id="cmdoption-fps">
<code class="sig-name descname">--fps</code><code class="sig-prename descclassname"> &lt;integer|float|numerator/denominator&gt;</code><a class="headerlink" href="#cmdoption-fps" title="Permalink to this definition">¶</a></dt>
<dd><p>YUV only: Source frame rate</p>
<p><strong>Range of values:</strong> positive int or float, or num/denom</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-interlace">
<code class="sig-name descname">--interlace</code><code class="sig-prename descclassname"> &lt;false|tff|bff&gt;</code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-interlace</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-interlace" title="Permalink to this definition">¶</a></dt>
<dd><ol class="arabic simple" start="0">
<li><p>progressive pictures <strong>(default)</strong></p></li>
<li><p>top field first</p></li>
<li><p>bottom field first</p></li>
</ol>
<p>HEVC encodes interlaced content as fields. Fields must be provided to
the encoder in the correct temporal order. The source dimensions
must be field dimensions and the FPS must be in units of fields per
second. The decoder must re-combine the fields in their correct
orientation for display.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-seek">
<code class="sig-name descname">--seek</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames to skip at start of input file. Default 0</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-f">
<code class="sig-name descname">--frames</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-f</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-f" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames of input sequence to be encoded. Default 0 (all)</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-output">
<code class="sig-name descname">--output</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-o</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-output" title="Permalink to this definition">¶</a></dt>
<dd><p>Bitstream output file name. If there are two extra CLI options, the
first is implicitly the input filename and the second is the output
filename, making the <a class="reference internal" href="#cmdoption-output"><code class="xref std std-option docutils literal notranslate"><span class="pre">--output</span></code></a> option optional.</p>
<p>The output file will always contain a raw HEVC bitstream, the CLI
does not support any container file formats.</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-output-depth">
<code class="sig-name descname">--output-depth</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-D</code><code class="sig-prename descclassname"> 8|10|12</code><a class="headerlink" href="#cmdoption-output-depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Bitdepth of output HEVC bitstream, which is also the internal bit
depth of the encoder. If the requested bit depth is not the bit
depth of the linked libx265, it will attempt to bind libx265_main
for an 8bit encoder, libx265_main10 for a 10bit encoder, or
libx265_main12 for a 12bit encoder, with the same API version as the
linked libx265.</p>
<p>If the output depth is not specified but <a class="reference internal" href="#cmdoption-profile"><code class="xref std std-option docutils literal notranslate"><span class="pre">--profile</span></code></a> is
specified, the output depth will be derived from the profile name.</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-chunk-start">
<code class="sig-name descname">--chunk-start</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-chunk-start" title="Permalink to this definition">¶</a></dt>
<dd><p>First frame of the chunk. Frames preceeding this in display order will
be encoded, however, they will be discarded in the bitstream. This
feature can be enabled only in closed GOP structures.
Default 0 (disabled).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-chunk-end">
<code class="sig-name descname">--chunk-end</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-chunk-end" title="Permalink to this definition">¶</a></dt>
<dd><p>Last frame of the chunk. Frames following this in display order will be
used in taking lookahead decisions, but, they will not be encoded.
This feature can be enabled only in closed GOP structures.
Default 0 (disabled).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-field">
<code class="sig-name descname">--field</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-field</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-field" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable or disable field coding. Default disabled.</p>
</dd></dl>

</div>
<div class="section" id="profile-level-tier">
<h2>Profile, Level, Tier<a class="headerlink" href="#profile-level-tier" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-profile">
<code class="sig-name descname">--profile</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-P</code><code class="sig-prename descclassname"> &lt;string&gt;</code><a class="headerlink" href="#cmdoption-profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Enforce the requirements of the specified profile, ensuring the
output stream will be decodable by a decoder which supports that
profile.  May abort the encode if the specified profile is
impossible to be supported by the compile options chosen for the
encoder (a high bit depth encoder will be unable to output
bitstreams compliant with Main or MainStillPicture).</p>
<p>The following profiles are supported in x265.</p>
<p>8bit profiles:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">main</span><span class="p">,</span> <span class="n">main</span><span class="o">-</span><span class="n">intra</span><span class="p">,</span> <span class="n">mainstillpicture</span> <span class="p">(</span><span class="ow">or</span> <span class="n">msp</span> <span class="k">for</span> <span class="n">short</span><span class="p">)</span>
<span class="o">*</span> <span class="n">main444</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="n">main444</span><span class="o">-</span><span class="n">intra</span><span class="p">,</span> <span class="n">main444</span><span class="o">-</span><span class="n">stillpicture</span>
</pre></div>
</div>
<p>See note below on signaling intra and stillpicture profiles.</p>
<p>10bit profiles:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">main10</span><span class="p">,</span> <span class="n">main10</span><span class="o">-</span><span class="n">intra</span>
<span class="o">*</span> <span class="n">main422</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="n">main422</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="n">intra</span>
<span class="o">*</span> <span class="n">main444</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="n">main444</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="n">intra</span>
</pre></div>
</div>
<p>12bit profiles:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">main12</span><span class="p">,</span> <span class="n">main12</span><span class="o">-</span><span class="n">intra</span>
<span class="o">*</span> <span class="n">main422</span><span class="o">-</span><span class="mi">12</span><span class="p">,</span> <span class="n">main422</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="n">intra</span>
<span class="o">*</span> <span class="n">main444</span><span class="o">-</span><span class="mi">12</span><span class="p">,</span> <span class="n">main444</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="n">intra</span>
</pre></div>
</div>
<p><strong>CLI ONLY</strong></p>
<p>API users must call x265_param_apply_profile() after configuring
their param structure. Any changes made to the param structure after
this call might make the encode non-compliant.</p>
<p>The CLI application will derive the output bit depth from the
profile name if <a class="reference internal" href="#cmdoption-output-depth"><code class="xref std std-option docutils literal notranslate"><span class="pre">--output-depth</span></code></a> is not specified.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-level-idc">
<code class="sig-name descname">--level-idc</code><code class="sig-prename descclassname"> &lt;integer|float&gt;</code><a class="headerlink" href="#cmdoption-level-idc" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum decoder requirement level. Defaults to 0, which implies
auto-detection by the encoder. If specified, the encoder will
attempt to bring the encode specifications within that specified
level. If the encoder is unable to reach the level it issues a
warning and aborts the encode. If the requested requirement level is
higher than the actual level, the actual requirement level is
signaled.</p>
<p>Beware, specifying a decoder level will force the encoder to enable
VBV for constant rate factor encodes, which may introduce
non-determinism.</p>
<p>The value is specified as a float or as an integer with the level
times 10, for example level <strong>5.1</strong> is specified as “5.1” or “51”,
and level <strong>5.0</strong> is specified as “5.0” or “50”.</p>
<p>Annex A levels: 1, 2, 2.1, 3, 3.1, 4, 4.1, 5, 5.1, 5.2, 6, 6.1, 6.2, 8.5</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-high-tier">
<code class="sig-name descname">--high-tier</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-high-tier</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-high-tier" title="Permalink to this definition">¶</a></dt>
<dd><p>If <a class="reference internal" href="#cmdoption-level-idc"><code class="xref std std-option docutils literal notranslate"><span class="pre">--level-idc</span></code></a> has been specified, –high-tier allows the
support of high tier at that level. The encoder will first attempt to encode
at the specified level, main tier first, turning on high tier only if
necessary and available at that level.If your requested level does not
support a High tier, high tier will not be supported. If –no-high-tier
has been specified, then the encoder will attempt to encode only at the main tier.</p>
<p>Default: enabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ref">
<code class="sig-name descname">--ref</code><code class="sig-prename descclassname"> &lt;1..16&gt;</code><a class="headerlink" href="#cmdoption-ref" title="Permalink to this definition">¶</a></dt>
<dd><p>Max number of L0 references to be allowed. This number has a linear
multiplier effect on the amount of work performed in motion search,
but will generally have a beneficial affect on compression and
distortion.</p>
<p>Note that x265 allows up to 16 L0 references but the HEVC
specification only allows a maximum of 8 total reference frames. So
if you have B frames enabled only 7 L0 refs are valid and if you
have <a class="reference internal" href="#cmdoption-b-pyramid"><code class="xref std std-option docutils literal notranslate"><span class="pre">--b-pyramid</span></code></a> enabled (which is enabled by default in
all presets), then only 6 L0 refs are the maximum allowed by the
HEVC specification.  If x265 detects that the total reference count
is greater than 8, it will issue a warning that the resulting stream
is non-compliant and it signals the stream as profile NONE and level
NONE and will abort the encode unless
<a class="reference internal" href="#cmdoption-allow-non-conformance"><code class="xref std std-option docutils literal notranslate"><span class="pre">--allow-non-conformance</span></code></a> it specified.  Compliant HEVC
decoders may refuse to decode such streams.</p>
<p>Default 3</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-allow-non-conformance">
<code class="sig-name descname">--allow-non-conformance</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-allow-non-conformance</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-allow-non-conformance" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow libx265 to generate a bitstream with profile and level NONE.
By default it will abort any encode which does not meet strict level
compliance. The two most likely causes for non-conformance are
<a class="reference internal" href="#cmdoption-ctu"><code class="xref std std-option docutils literal notranslate"><span class="pre">--ctu</span></code></a> being too small, <a class="reference internal" href="#cmdoption-ref"><code class="xref std std-option docutils literal notranslate"><span class="pre">--ref</span></code></a> being too high,
or the bitrate or resolution being out of specification.</p>
<p>Default: disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-uhd-bd">
<code class="sig-name descname">--uhd-bd</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-uhd-bd" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable Ultra HD Blu-ray format support. If specified with incompatible
encoding options, the encoder will attempt to modify/set the right
encode specifications. If the encoder is unable to do so, this option
will be turned OFF. Highly experimental.</p>
<p>Default: disabled</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#cmdoption-profile"><code class="xref std std-option docutils literal notranslate"><span class="pre">--profile</span></code></a>, <a class="reference internal" href="#cmdoption-level-idc"><code class="xref std std-option docutils literal notranslate"><span class="pre">--level-idc</span></code></a>, and
<a class="reference internal" href="#cmdoption-high-tier"><code class="xref std std-option docutils literal notranslate"><span class="pre">--high-tier</span></code></a> are only intended for use when you are
targeting a particular decoder (or decoders) with fixed resource
limitations and must constrain the bitstream within those limits.
Specifying a profile or level may lower the encode quality
parameters to meet those requirements but it will never raise
them. It may enable VBV constraints on a CRF encode.</p>
<p>Also note that x265 determines the decoder requirement profile and
level in three steps.  First, the user configures an x265_param
structure with their suggested encoder options and then optionally
calls x265_param_apply_profile() to enforce a specific profile
(main, main10, etc). Second, an encoder is created from this
x265_param instance and the <a class="reference internal" href="#cmdoption-level-idc"><code class="xref std std-option docutils literal notranslate"><span class="pre">--level-idc</span></code></a> and
<a class="reference internal" href="#cmdoption-high-tier"><code class="xref std std-option docutils literal notranslate"><span class="pre">--high-tier</span></code></a> parameters are used to reduce bitrate or other
features in order to enforce the target level. Finally, the encoder
re-examines the final set of parameters and detects the actual
minimum decoder requirement level and this is what is signaled in
the bitstream headers. The detected decoder level will only use High
tier if the user specified a High tier level.</p>
<p>The signaled profile will be determined by the encoder’s internal
bitdepth and input color space. If <a class="reference internal" href="#cmdoption-keyint"><code class="xref std std-option docutils literal notranslate"><span class="pre">--keyint</span></code></a> is 0 or 1,
then an intra variant of the profile will be signaled.</p>
<p>If <code class="xref std std-option docutils literal notranslate"><span class="pre">--total-frames</span></code> is 1, then a stillpicture variant will
be signaled, but this parameter is not always set by applications,
particularly not when the CLI uses stdin streaming or when libx265
is used by third-party applications.</p>
</div>
</div>
<div class="section" id="mode-decision-analysis">
<h2>Mode decision / Analysis<a class="headerlink" href="#mode-decision-analysis" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-rd">
<code class="sig-name descname">--rd</code><code class="sig-prename descclassname"> &lt;1..6&gt;</code><a class="headerlink" href="#cmdoption-rd" title="Permalink to this definition">¶</a></dt>
<dd><p>Level of RDO in mode decision. The higher the value, the more
exhaustive the analysis and the more rate distortion optimization is
used. The lower the value the faster the encode, the higher the
value the smaller the bitstream (in general). Default 3</p>
<p>Note that this table aims for accuracy, but is not necessarily our
final target behavior for each mode.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Level</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>sa8d mode and split decisions, intra w/ source pixels,
currently not supported</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>recon generated (better intra), RDO merge/skip selection</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>RDO splits and merge/skip selection</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>RDO mode and split decisions, chroma residual used for sa8d</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Currently same as 3</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>Adds RDO prediction decisions</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Currently same as 5</p></td>
</tr>
</tbody>
</table>
<p><strong>Range of values:</strong> 1: least .. 6: full RDO analysis</p>
</dd></dl>

<p>Options which affect the coding unit quad-tree, sometimes referred to as
the prediction quad-tree.</p>
<dl class="option">
<dt id="cmdoption-ctu">
<code class="sig-name descname">--ctu</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-s</code><code class="sig-prename descclassname"> &lt;64|32|16&gt;</code><a class="headerlink" href="#cmdoption-ctu" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum CU size (width and height). The larger the maximum CU size,
the more efficiently x265 can encode flat areas of the picture,
giving large reductions in bitrate. However this comes at a loss of
parallelism with fewer rows of CUs that can be encoded in parallel,
and less frame parallelism as well. Because of this the faster
presets use a CU size of 32. Default: 64</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-min-cu-size">
<code class="sig-name descname">--min-cu-size</code><code class="sig-prename descclassname"> &lt;32|16|8&gt;</code><a class="headerlink" href="#cmdoption-min-cu-size" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum CU size (width and height). By using 16 or 32 the encoder
will not analyze the cost of CUs below that minimum threshold,
saving considerable amounts of compute with a predictable increase
in bitrate. This setting has a large effect on performance on the
faster presets.</p>
<p>Default: 8 (minimum 8x8 CU for HEVC, best compression efficiency)</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All encoders within a single process must use the same settings for
the CU size range. <a class="reference internal" href="#cmdoption-ctu"><code class="xref std std-option docutils literal notranslate"><span class="pre">--ctu</span></code></a> and <a class="reference internal" href="#cmdoption-min-cu-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">--min-cu-size</span></code></a> must
be consistent for all of them since the encoder configures several
key global data structures based on this range.</p>
</div>
<dl class="option">
<dt id="cmdoption-limit-refs">
<code class="sig-name descname">--limit-refs</code><code class="sig-prename descclassname"> &lt;0|1|2|3&gt;</code><a class="headerlink" href="#cmdoption-limit-refs" title="Permalink to this definition">¶</a></dt>
<dd><p>When set to X265_REF_LIMIT_DEPTH (1) x265 will limit the references
analyzed at the current depth based on the references used to code
the 4 sub-blocks at the next depth.  For example, a 16x16 CU will
only use the references used to code its four 8x8 CUs.</p>
<p>When set to X265_REF_LIMIT_CU (2), the rectangular and asymmetrical
partitions will only use references selected by the 2Nx2N motion
search (including at the lowest depth which is otherwise unaffected
by the depth limit).</p>
<p>When set to 3 (X265_REF_LIMIT_DEPTH &amp;&amp; X265_REF_LIMIT_CU), the 2Nx2N
motion search at each depth will only use references from the split
CUs and the rect/amp motion searches at that depth will only use the
reference(s) selected by 2Nx2N.</p>
<p>For all non-zero values of limit-refs, the current depth will evaluate
intra mode (in inter slices), only if intra mode was chosen as the best
mode for atleast one of the 4 sub-blocks.</p>
<p>You can often increase the number of references you are using
(within your decoder level limits) if you enable one or
both of these flags.</p>
<p>Default 3.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-limit-modes">
<code class="sig-name descname">--limit-modes</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-limit-modes</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-limit-modes" title="Permalink to this definition">¶</a></dt>
<dd><p>When enabled, limit-modes will limit modes analyzed for each CU using cost
metrics from the 4 sub-CUs. When multiple inter modes like <a class="reference internal" href="#cmdoption-rect"><code class="xref std std-option docutils literal notranslate"><span class="pre">--rect</span></code></a>
and/or <a class="reference internal" href="#cmdoption-amp"><code class="xref std std-option docutils literal notranslate"><span class="pre">--amp</span></code></a> are enabled, this feature will use motion cost
heuristics from the 4 sub-CUs to bypass modes that are unlikely to be the
best choice. This can significantly improve performance when <code class="xref std std-option docutils literal notranslate"><span class="pre">rect</span></code>
and/or <a class="reference internal" href="#cmdoption-amp"><code class="xref std std-option docutils literal notranslate"><span class="pre">--amp</span></code></a> are enabled at minimal compression efficiency loss.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-rect">
<code class="sig-name descname">--rect</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-rect</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-rect" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable analysis of rectangular motion partitions Nx2N and 2NxN
(50/50 splits, two directions). Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-amp">
<code class="sig-name descname">--amp</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-amp</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-amp" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable analysis of asymmetric motion partitions (75/25 splits, four
directions). At RD levels 0 through 4, AMP partitions are only
considered at CU sizes 32x32 and below. At RD levels 5 and 6, it
will only consider AMP partitions as merge candidates (no motion
search) at 64x64, and as merge or inter candidates below 64x64.</p>
<p>The AMP partitions which are searched are derived from the current
best inter partition. If Nx2N (vertical rectangular) is the best
current prediction, then left and right asymmetrical splits will be
evaluated. If 2NxN (horizontal rectangular) is the best current
prediction, then top and bottom asymmetrical splits will be
evaluated, If 2Nx2N is the best prediction, and the block is not a
merge/skip, then all four AMP partitions are evaluated.</p>
<p>This setting has no effect if rectangular partitions are disabled.
Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-early-skip">
<code class="sig-name descname">--early-skip</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-early-skip</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-early-skip" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure 2Nx2N merge candidates first; if no residual is found,
additional modes at that depth are not analysed. Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-rskip">
<code class="sig-name descname">--rskip</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-rskip</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-rskip" title="Permalink to this definition">¶</a></dt>
<dd><p>This option determines early exit from CU depth recursion. When a skip CU is
found, additional heuristics (depending on rd-level) are used to decide whether
to terminate recursion. In rdlevels 5 and 6, comparison with inter2Nx2N is used,
while at rdlevels 4 and neighbour costs are used to skip recursion.
Provides minimal quality degradation at good performance gains when enabled.</p>
<p>Default: enabled, disabled for <code class="xref std std-option docutils literal notranslate"><span class="pre">--tune</span> <span class="pre">grain</span></code></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-splitrd-skip">
<code class="sig-name descname">--splitrd-skip</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-splitrd-skip</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-splitrd-skip" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable skipping split RD analysis when sum of split CU rdCost larger than one
split CU rdCost for Intra CU. Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-fast-intra">
<code class="sig-name descname">--fast-intra</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-fast-intra</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-fast-intra" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an initial scan of every fifth intra angular mode, then
check modes +/- 2 distance from the best mode, then +/- 1 distance
from the best mode, effectively performing a gradient descent. When
enabled 10 modes in total are checked. When disabled all 33 angular
modes are checked.  Only applicable for <a class="reference internal" href="#cmdoption-rd"><code class="xref std std-option docutils literal notranslate"><span class="pre">--rd</span></code></a> levels 4 and
below (medium preset and faster).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-b-intra">
<code class="sig-name descname">--b-intra</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-b-intra</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-b-intra" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables the evaluation of intra modes in B slices. Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-cu-lossless">
<code class="sig-name descname">--cu-lossless</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-cu-lossless</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-cu-lossless" title="Permalink to this definition">¶</a></dt>
<dd><p>For each CU, evaluate lossless (transform and quant bypass) encode
of the best non-lossless mode option as a potential rate distortion
optimization. If the global option <a class="reference internal" href="#cmdoption-lossless"><code class="xref std std-option docutils literal notranslate"><span class="pre">--lossless</span></code></a> has been
specified, all CUs will be encoded as lossless unconditionally
regardless of whether this option was enabled. Default disabled.</p>
<p>Only effective at RD levels 3 and above, which perform RDO mode
decisions.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-tskip-fast">
<code class="sig-name descname">--tskip-fast</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-tskip-fast</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-tskip-fast" title="Permalink to this definition">¶</a></dt>
<dd><p>Only evaluate transform skip for NxN intra predictions (4x4 blocks).
Only applicable if transform skip is enabled. For chroma, only
evaluate if luma used tskip. Inter block tskip analysis is
unmodified. Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-rd-refine">
<code class="sig-name descname">--rd-refine</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-rd-refine</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-rd-refine" title="Permalink to this definition">¶</a></dt>
<dd><p>For each analysed CU, calculate R-D cost on the best partition mode
for a range of QP values, to find the optimal rounding effect.
Default disabled.</p>
<p>Only effective at RD levels 5 and 6</p>
</dd></dl>

<p>Analysis re-use options, to improve performance when encoding the same
sequence multiple times (presumably at varying bitrates). The encoder
will not reuse analysis if slice type parameters do not match.</p>
<dl class="option">
<dt id="cmdoption-analysis-save">
<code class="sig-name descname">--analysis-save</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-analysis-save" title="Permalink to this definition">¶</a></dt>
<dd><p>Encoder outputs analysis information of each frame. Analysis data from save mode is
written to the file specified. Requires cutree, pmode to be off. Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-analysis-load">
<code class="sig-name descname">--analysis-load</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-analysis-load" title="Permalink to this definition">¶</a></dt>
<dd><p>Encoder reuses analysis information from the file specified. By reading the analysis data writen by
an earlier encode of the same sequence, substantial redundant work may be avoided. Requires cutree, pmode
to be off. Default disabled.</p>
<p>The amount of analysis data stored/reused is determined by <a class="reference internal" href="#cmdoption-analysis-reuse-level"><code class="xref std std-option docutils literal notranslate"><span class="pre">--analysis-reuse-level</span></code></a>.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-analysis-reuse-file">
<code class="sig-name descname">--analysis-reuse-file</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-analysis-reuse-file" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a filename for <cite>multi-pass-opt-analysis</cite> and <cite>multi-pass-opt-distortion</cite>.
If no filename is specified, x265_analysis.dat is used.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-analysis-reuse-level">
<code class="sig-name descname">--analysis-reuse-level</code><code class="sig-prename descclassname"> &lt;1..10&gt;</code><a class="headerlink" href="#cmdoption-analysis-reuse-level" title="Permalink to this definition">¶</a></dt>
<dd><p>Amount of information stored/reused in <code class="xref std std-option docutils literal notranslate"><span class="pre">--analysis-reuse-mode</span></code> is distributed across levels.
Higher the value, higher the information stored/reused, faster the encode. Default 5.</p>
<p>Note that –analysis-reuse-level must be paired with analysis-reuse-mode.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Level</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Lookahead information</p></td>
</tr>
<tr class="row-odd"><td><p>2 to 4</p></td>
<td><p>Level 1 + intra/inter modes, ref’s</p></td>
</tr>
<tr class="row-even"><td><p>5 and 6</p></td>
<td><p>Level 2 + rect-amp</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>Level 5 + AVC size CU refinement</p></td>
</tr>
<tr class="row-even"><td><p>8 and 9</p></td>
<td><p>Level 5 + AVC size Full CU analysis-info</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>Level 5 + Full CU analysis-info</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="option">
<dt id="cmdoption-refine-mv-type">
<code class="sig-name descname">--refine-mv-type</code><code class="sig-prename descclassname"> &lt;string&gt;</code><a class="headerlink" href="#cmdoption-refine-mv-type" title="Permalink to this definition">¶</a></dt>
<dd><p>Reuse MV information received through API call. Currently receives information for AVC size and the accepted
string input is “avc”. Default is disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-refine-ctu-distortion">
<code class="sig-name descname">--refine-ctu-distortion</code><code class="sig-prename descclassname"> &lt;0/1&gt;</code><a class="headerlink" href="#cmdoption-refine-ctu-distortion" title="Permalink to this definition">¶</a></dt>
<dd><p>Store/normalize ctu distortion in analysis-save/load.
0 - Disabled.
1 - Save ctu distortion to the analysis file specified during analysis-save.</p>
<blockquote>
<div><p>Load CTU distortion from the analysis file and normalize it across every frame during analysis-load.</p>
</div></blockquote>
<p>Default 0.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-scale-factor">
<code class="sig-name descname">--scale-factor</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-scale-factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Factor by which input video is scaled down for analysis save mode.
This option should be coupled with analysis-reuse-mode option,
–analysis-reuse-level 10. The ctu size of load can either be the
same as that of save or double the size of save. Default 0.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-refine-intra">
<code class="sig-name descname">--refine-intra</code><code class="sig-prename descclassname"> &lt;0..4&gt;</code><a class="headerlink" href="#cmdoption-refine-intra" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables refinement of intra blocks in current encode.</p>
<p>Level 0 - Forces both mode and depth from the save encode.</p>
<p>Level 1 - Evaluates all intra modes at current depth(n) and at depth
(n+1) when current block size is one greater than the min-cu-size.
Forces modes for larger blocks.</p>
<p>Level 2 - In addition to the functionality of level 1, at all depths, force
(a) only depth when angular mode is chosen by the save encode.
(b) depth and mode when other intra modes are chosen by the save encode.</p>
<p>Level 3 - Perform analysis of intra modes for depth reused from first encode.</p>
<p>Level 4 - Does not reuse any analysis information - redo analysis for the intra block.</p>
<p>Default 0.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-refine-inter">
<code class="sig-name descname">--refine-inter</code><code class="sig-prename descclassname"> &lt;0..3&gt;</code><a class="headerlink" href="#cmdoption-refine-inter" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables refinement of inter blocks in current encode.</p>
<p>Level 0 - Forces both mode and depth from the save encode.</p>
<p>Level 1 - Evaluates all inter modes at current depth(n) and at depth
(n+1) when current block size is one greater than the min-cu-size.
Forces modes for larger blocks.</p>
<p>Level 2 - In addition to the functionality of level 1, restricts the modes
evaluated when specific modes are decided as the best mode by the save encode.</p>
<p>2nx2n in save encode - disable re-evaluation of rect and amp.</p>
<p>skip in save encode  - re-evaluates only skip, merge and 2nx2n modes.</p>
<p>Level 3 - Perform analysis of inter modes while reusing depths from the save encode.</p>
<p>Default 0.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-dynamic-refine">
<code class="sig-name descname">--dynamic-refine</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-dynamic-refine</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-dynamic-refine" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamically switches <a class="reference internal" href="#cmdoption-refine-inter"><code class="xref std std-option docutils literal notranslate"><span class="pre">--refine-inter</span></code></a> levels 0-3 based on the content and
the encoder settings. It is recommended to use <a class="reference internal" href="#cmdoption-refine-intra"><code class="xref std std-option docutils literal notranslate"><span class="pre">--refine-intra</span></code></a> 4 with dynamic
refinement. Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-refine-mv">
<code class="sig-name descname">--refine-mv</code><code class="sig-prename descclassname"> &lt;1..3&gt;</code><a class="headerlink" href="#cmdoption-refine-mv" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables refinement of motion vector for scaled video. Evaluates the best
motion vector based on the level selected. Default 1.</p>
<p>Level 1 - Search around scaled MV.</p>
<p>Level 2 - Level 1 + Search around best AMVP cand.</p>
<p>Level 3 - Level 2 + Search around the other AMVP cand.</p>
</dd></dl>

<p>Options which affect the transform unit quad-tree, sometimes referred to
as the residual quad-tree (RQT).</p>
<dl class="option">
<dt id="cmdoption-rdoq-level">
<code class="sig-name descname">--rdoq-level</code><code class="sig-prename descclassname"> &lt;0|1|2&gt;</code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-rdoq-level</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-rdoq-level" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the amount of rate-distortion analysis to use within
quantization:</p>
<p>At level 0 rate-distortion cost is not considered in quant</p>
<p>At level 1 rate-distortion cost is used to find optimal rounding
values for each level (and allows psy-rdoq to be effective). It
trades-off the signaling cost of the coefficient vs its post-inverse
quant distortion from the pre-quant coefficient. When
<a class="reference internal" href="#cmdoption-psy-rdoq"><code class="xref std std-option docutils literal notranslate"><span class="pre">--psy-rdoq</span></code></a> is enabled, this formula is biased in favor of
more energy in the residual (larger coefficient absolute levels)</p>
<p>At level 2 rate-distortion cost is used to make decimate decisions
on each 4x4 coding group, including the cost of signaling the group
within the group bitmap. If the total distortion of not signaling
the entire coding group is less than the rate cost, the block is
decimated. Next, it applies rate-distortion cost analysis to the
last non-zero coefficient, which can result in many (or all) of the
coding groups being decimated. Psy-rdoq is less effective at
preserving energy when RDOQ is at level 2, since it only has
influence over the level distortion costs.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-tu-intra-depth">
<code class="sig-name descname">--tu-intra-depth</code><code class="sig-prename descclassname"> &lt;1..4&gt;</code><a class="headerlink" href="#cmdoption-tu-intra-depth" title="Permalink to this definition">¶</a></dt>
<dd><p>The transform unit (residual) quad-tree begins with the same depth
as the coding unit quad-tree, but the encoder may decide to further
split the transform unit tree if it improves compression efficiency.
This setting limits the number of extra recursion depth which can be
attempted for intra coded units. Default: 1, which means the
residual quad-tree is always at the same depth as the coded unit
quad-tree</p>
<p>Note that when the CU intra prediction is NxN (only possible with
8x8 CUs), a TU split is implied, and thus the residual quad-tree
begins at 4x4 and cannot split any futhrer.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-tu-inter-depth">
<code class="sig-name descname">--tu-inter-depth</code><code class="sig-prename descclassname"> &lt;1..4&gt;</code><a class="headerlink" href="#cmdoption-tu-inter-depth" title="Permalink to this definition">¶</a></dt>
<dd><p>The transform unit (residual) quad-tree begins with the same depth
as the coding unit quad-tree, but the encoder may decide to further
split the transform unit tree if it improves compression efficiency.
This setting limits the number of extra recursion depth which can be
attempted for inter coded units. Default: 1. which means the
residual quad-tree is always at the same depth as the coded unit
quad-tree unless the CU was coded with rectangular or AMP
partitions, in which case a TU split is implied and thus the
residual quad-tree begins one layer below the CU quad-tree.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-limit-tu">
<code class="sig-name descname">--limit-tu</code><code class="sig-prename descclassname"> &lt;0..4&gt;</code><a class="headerlink" href="#cmdoption-limit-tu" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables early exit from TU depth recursion, for inter coded blocks.</p>
<p>Level 1 - decides to recurse to next higher depth based on cost
comparison of full size TU and split TU.</p>
<p>Level 2 - based on first split subTU’s depth, limits recursion of
other split subTUs.</p>
<p>Level 3 - based on the average depth of the co-located and the neighbor
CUs’ TU depth, limits recursion of the current CU.</p>
<p>Level 4 - uses the depth of the neighbouring/ co-located CUs TU depth
to limit the 1st subTU depth. The 1st subTU depth is taken as the
limiting depth for the other subTUs.</p>
<p>Enabling levels 3 or 4 may cause a mismatch in the output bitstreams
between option:<cite>–analysis-save</cite> and option:<cite>–analysis-load</cite>
as all neighbouring CUs TU depth may not be available in the
option:<cite>–analysis-load</cite> run as only the best mode’s information is
available to it.</p>
<p>Default: 0</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-nr-intra">
<code class="sig-name descname">--nr-intra</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--nr-inter</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-nr-intra" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise reduction - an adaptive deadzone applied after DCT
(subtracting from DCT coefficients), before quantization.  It does
no pixel-level filtering, doesn’t cross DCT block boundaries, has no
overlap, The higher the strength value parameter, the more
aggressively it will reduce noise.</p>
<p>Enabling noise reduction will make outputs diverge between different
numbers of frame threads. Outputs will be deterministic but the
outputs of -F2 will no longer match the outputs of -F3, etc.</p>
<p><strong>Values:</strong> any value in range of 0 to 2000. Default 0 (disabled).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-tskip">
<code class="sig-name descname">--tskip</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-tskip</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-tskip" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable evaluation of transform skip (bypass DCT but still use
quantization) coding for 4x4 TU coded blocks.</p>
<p>Only effective at RD levels 3 and above, which perform RDO mode
decisions. Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-rdpenalty">
<code class="sig-name descname">--rdpenalty</code><code class="sig-prename descclassname"> &lt;0..2&gt;</code><a class="headerlink" href="#cmdoption-rdpenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>When set to 1, transform units of size 32x32 are given a 4x bit cost
penalty compared to smaller transform units, in intra coded CUs in P
or B slices.</p>
<p>When set to 2, transform units of size 32x32 are not even attempted,
unless otherwise required by the maximum recursion depth.  For this
option to be effective with 32x32 intra CUs,
<a class="reference internal" href="#cmdoption-tu-intra-depth"><code class="xref std std-option docutils literal notranslate"><span class="pre">--tu-intra-depth</span></code></a> must be at least 2.  For it to be
effective with 64x64 intra CUs, <a class="reference internal" href="#cmdoption-tu-intra-depth"><code class="xref std std-option docutils literal notranslate"><span class="pre">--tu-intra-depth</span></code></a> must be
at least 3.</p>
<p>Note that in HEVC an intra transform unit (a block of the residual
quad-tree) is also a prediction unit, meaning that the intra
prediction signal is generated for each TU block, the residual
subtracted and then coded. The coding unit simply provides the
prediction modes that will be used when predicting all of the
transform units within the CU. This means that when you prevent
32x32 intra transform units, you are preventing 32x32 intra
predictions.</p>
<p>Default 0, disabled.</p>
<p><strong>Values:</strong> 0:disabled 1:4x cost penalty 2:force splits</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-max-tu-size">
<code class="sig-name descname">--max-tu-size</code><code class="sig-prename descclassname"> &lt;32|16|8|4&gt;</code><a class="headerlink" href="#cmdoption-max-tu-size" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum TU size (width and height). The residual can be more
efficiently compressed by the DCT transform when the max TU size
is larger, but at the expense of more computation. Transform unit
quad-tree begins at the same depth of the coded tree unit, but if the
maximum TU size is smaller than the CU size then transform QT begins
at the depth of the max-tu-size. Default: 32.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-dynamic-rd">
<code class="sig-name descname">--dynamic-rd</code><code class="sig-prename descclassname"> &lt;0..4&gt;</code><a class="headerlink" href="#cmdoption-dynamic-rd" title="Permalink to this definition">¶</a></dt>
<dd><p>Increases the RD level at points where quality drops due to VBV rate
control enforcement. The number of CUs for which the RD is reconfigured
is determined based on the strength. Strength 1 gives the best FPS,
strength 4 gives the best SSIM. Strength 0 switches this feature off.
Default: 0.</p>
<p>Effective for RD levels 4 and below.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ssim-rd">
<code class="sig-name descname">--ssim-rd</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-ssim-rd</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-ssim-rd" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable/Disable SSIM RDO. SSIM is a better perceptual quality assessment
method as compared to MSE. SSIM based RDO calculation is based on residual
divisive normalization scheme. This normalization is consistent with the
luminance and contrast masking effect of Human Visual System. It is used
for mode selection during analysis of CTUs and can achieve significant
gain in terms of objective quality metrics SSIM and PSNR. It only has effect
on presets which use RDO-based mode decisions (<a class="reference internal" href="#cmdoption-rd"><code class="xref std std-option docutils literal notranslate"><span class="pre">--rd</span></code></a> 3 and above).</p>
</dd></dl>

</div>
<div class="section" id="temporal-motion-search-options">
<h2>Temporal / motion search options<a class="headerlink" href="#temporal-motion-search-options" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-max-merge">
<code class="sig-name descname">--max-merge</code><code class="sig-prename descclassname"> &lt;1..5&gt;</code><a class="headerlink" href="#cmdoption-max-merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of neighbor (spatial and temporal) candidate blocks
that the encoder may consider for merging motion predictions. If a
merge candidate results in no residual, it is immediately selected
as a “skip”.  Otherwise the merge candidates are tested as part of
motion estimation when searching for the least cost inter option.
The max candidate number is encoded in the SPS and determines the
bit cost of signaling merge CUs. Default 2</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-me">
<code class="sig-name descname">--me</code><code class="sig-prename descclassname"> &lt;integer|string&gt;</code><a class="headerlink" href="#cmdoption-me" title="Permalink to this definition">¶</a></dt>
<dd><p>Motion search method. Generally, the higher the number the harder
the ME method will try to find an optimal match. Diamond search is
the simplest. Hexagon search is a little better. Uneven
Multi-Hexegon is an adaption of the search method used by x264 for
slower presets. Star is a three step search adapted from the HM
encoder: a star-pattern search followed by an optional radix scan
followed by an optional star-search refinement. Full is an
exhaustive search; an order of magnitude slower than all other
searches but not much better than umh or star. SEA is similar to
FULL search; a three step motion search adopted from x264: DC
calculation followed by ADS calculation followed by SAD of the
passed motion vector candidates, hence faster than Full search.</p>
<ol class="arabic simple" start="0">
<li><p>dia</p></li>
<li><p>hex <strong>(default)</strong></p></li>
<li><p>umh</p></li>
<li><p>star</p></li>
<li><p>sea</p></li>
<li><p>full</p></li>
</ol>
</dd></dl>

<dl class="option">
<dt id="cmdoption-subme">
<code class="sig-name descname">--subme</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-m</code><code class="sig-prename descclassname"> &lt;0..7&gt;</code><a class="headerlink" href="#cmdoption-subme" title="Permalink to this definition">¶</a></dt>
<dd><p>Amount of subpel refinement to perform. The higher the number the
more subpel iterations and steps are performed. Default 2</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 20%" />
<col style="width: 18%" />
<col style="width: 20%" />
<col style="width: 18%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>-m</p></th>
<th class="head"><p>HPEL iters</p></th>
<th class="head"><p>HPEL dirs</p></th>
<th class="head"><p>QPEL iters</p></th>
<th class="head"><p>QPEL dirs</p></th>
<th class="head"><p>HPEL SATD</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>4</p></td>
<td><p>0</p></td>
<td><p>4</p></td>
<td><p>false</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>4</p></td>
<td><p>false</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>1</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>4</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>4</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>1</p></td>
<td><p>8</p></td>
<td><p>1</p></td>
<td><p>8</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>2</p></td>
<td><p>8</p></td>
<td><p>1</p></td>
<td><p>8</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>2</p></td>
<td><p>8</p></td>
<td><p>2</p></td>
<td><p>8</p></td>
<td><p>true</p></td>
</tr>
</tbody>
</table>
<p>At –subme values larger than 2, chroma residual cost is included
in all subpel refinement steps and chroma residual is included in
all motion estimation decisions (selecting the best reference
picture in each list, and chosing between merge, uni-directional
motion and bi-directional motion). The ‘slow’ preset is the first
preset to enable the use of chroma residual.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-merange">
<code class="sig-name descname">--merange</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-merange" title="Permalink to this definition">¶</a></dt>
<dd><p>Motion search range. Default 57</p>
<p>The default is derived from the default CTU size (64) minus the luma
interpolation half-length (4) minus maximum subpel distance (2)
minus one extra pixel just in case the hex search method is used. If
the search range were any larger than this, another CTU row of
latency would be required for reference frames.</p>
<p><strong>Range of values:</strong> an integer from 0 to 32768</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-temporal-mvp">
<code class="sig-name descname">--temporal-mvp</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-temporal-mvp</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-temporal-mvp" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable temporal motion vector predictors in P and B slices.
This enables the use of the motion vector from the collocated block
in the previous frame to be used as a predictor. Default is enabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-weightp">
<code class="sig-name descname">--weightp</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-w</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-weightp</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-weightp" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable weighted prediction in P slices. This enables weighting
analysis in the lookahead, which influences slice decisions, and
enables weighting analysis in the main encoder which allows P
reference samples to have a weight function applied to them prior to
using them for motion compensation.  In video which has lighting
changes, it can give a large improvement in compression efficiency.
Default is enabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-weightb">
<code class="sig-name descname">--weightb</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-weightb</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-weightb" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable weighted prediction in B slices. Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-analyze-src-pics">
<code class="sig-name descname">--analyze-src-pics</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-analyze-src-pics</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-analyze-src-pics" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable motion estimation with source frame pixels, in this mode,
motion estimation can be computed independently. Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hme">
<code class="sig-name descname">--hme</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-hme</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-hme" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable 3-level Hierarchical motion estimation at One-Sixteenth,
Quarter and Full resolution. Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hme-search">
<code class="sig-name descname">--hme-search</code><code class="sig-prename descclassname"> &lt;integer|string&gt;,&lt;integer|string&gt;,&lt;integer|string&gt;</code><a class="headerlink" href="#cmdoption-hme-search" title="Permalink to this definition">¶</a></dt>
<dd><p>Motion search method for HME Level 0, 1 and 2. Refer to <a class="reference internal" href="#cmdoption-me"><code class="xref std std-option docutils literal notranslate"><span class="pre">--me</span></code></a> for values.
Specify search method for each level. Alternatively, specify a single value
which will apply to all levels. Default is hex,umh,umh for
levels 0,1,2 respectively.</p>
</dd></dl>

</div>
<div class="section" id="spatial-intra-options">
<h2>Spatial/intra options<a class="headerlink" href="#spatial-intra-options" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-strong-intra-smoothing">
<code class="sig-name descname">--strong-intra-smoothing</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-strong-intra-smoothing</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-strong-intra-smoothing" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable strong intra smoothing for 32x32 intra blocks. This flag
performs bi-linear interpolation of the corner reference samples
for a strong smoothing effect. The purpose is to prevent blocking
or banding artifacts in regions with few/zero AC coefficients.
Default enabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-constrained-intra">
<code class="sig-name descname">--constrained-intra</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-constrained-intra</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-constrained-intra" title="Permalink to this definition">¶</a></dt>
<dd><p>Constrained intra prediction. When generating intra predictions for
blocks in inter slices, only intra-coded reference pixels are used.
Inter-coded reference pixels are replaced with intra-coded neighbor
pixels or default values. The general idea is to block the
propagation of reference errors that may have resulted from lossy
signals. Default disabled</p>
</dd></dl>

</div>
<div class="section" id="psycho-visual-options">
<h2>Psycho-visual options<a class="headerlink" href="#psycho-visual-options" title="Permalink to this headline">¶</a></h2>
<p>Left to its own devices, the encoder will make mode decisions based on a
simple rate distortion formula, trading distortion for bitrate. This is
generally effective except for the manner in which this distortion is
measured. It tends to favor blurred reconstructed blocks over blocks
which have wrong motion. The human eye generally prefers the wrong
motion over the blur and thus x265 offers psycho-visual adjustments to
the rate distortion algorithm.</p>
<p><a class="reference internal" href="#cmdoption-psy-rd"><code class="xref std std-option docutils literal notranslate"><span class="pre">--psy-rd</span></code></a> will add an extra cost to reconstructed blocks which
do not match the visual energy of the source block. The higher the
strength of <a class="reference internal" href="#cmdoption-psy-rd"><code class="xref std std-option docutils literal notranslate"><span class="pre">--psy-rd</span></code></a> the more strongly it will favor similar
energy over blur and the more aggressively it will ignore rate
distortion. If it is too high, it will introduce visal artifacts and
increase bitrate enough for rate control to increase quantization
globally, reducing overall quality. psy-rd will tend to reduce the use
of blurred prediction modes, like DC and planar intra and bi-directional
inter prediction.</p>
<p><a class="reference internal" href="#cmdoption-psy-rdoq"><code class="xref std std-option docutils literal notranslate"><span class="pre">--psy-rdoq</span></code></a> will adjust the distortion cost used in
rate-distortion optimized quantization (RDO quant), enabled by
<a class="reference internal" href="#cmdoption-rdoq-level"><code class="xref std std-option docutils literal notranslate"><span class="pre">--rdoq-level</span></code></a> 1 or 2, favoring the preservation of energy in the
reconstructed image.  <a class="reference internal" href="#cmdoption-psy-rdoq"><code class="xref std std-option docutils literal notranslate"><span class="pre">--psy-rdoq</span></code></a> prevents RDOQ from blurring
all of the encoding options which psy-rd has to chose from.  At low
strength levels, psy-rdoq will influence the quantization level
decisions, favoring higher AC energy in the reconstructed image. As
psy-rdoq strength is increased, more non-zero coefficient levels are
added and fewer coefficients are zeroed by RDOQ’s rate distortion
analysis. High levels of psy-rdoq can double the bitrate which can have
a drastic effect on rate control, forcing higher overall QP, and can
cause ringing artifacts. psy-rdoq is less accurate than psy-rd, it is
biasing towards energy in general while psy-rd biases towards the energy
of the source image. But very large psy-rdoq values can sometimes be
beneficial.</p>
<p>As a general rule, when both psycho-visual features are disabled, the
encoder will tend to blur blocks in areas of difficult motion. Turning
on small amounts of psy-rd and psy-rdoq will improve the perceived
visual quality. Increasing psycho-visual strength further will improve
quality and begin introducing artifacts and increase bitrate, which may
force rate control to increase global QP. Finding the optimal
psycho-visual parameters for a given video requires experimentation. Our
recommended defaults (1.0 for both) are generally on the low end of the
spectrum.</p>
<p>The lower the bitrate, the lower the optimal psycho-visual settings. If
the bitrate is too low for the psycho-visual settings, you will begin to
see temporal artifacts (motion judder). This is caused when the encoder
is forced to code skip blocks (no residual) in areas of difficult motion
because it is the best option psycho-visually (they have great amounts
of energy and no residual cost). One can lower psy-rd settings when
judder is happening, and allow the encoder to use some blur in these
areas of high motion.</p>
<p>In 444, chroma gets twice as much resolution, so halve the quality when psy-rd is enabled.
So when psy-rd is enabled for 444 videos, cbQpOffset and crQpOffset are set to value 6,
if they are not explicitly set.</p>
<dl class="option">
<dt id="cmdoption-psy-rd">
<code class="sig-name descname">--psy-rd</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-psy-rd" title="Permalink to this definition">¶</a></dt>
<dd><p>Influence rate distortion optimizated mode decision to preserve the
energy of the source image in the encoded image at the expense of
compression efficiency. It only has effect on presets which use
RDO-based mode decisions (<a class="reference internal" href="#cmdoption-rd"><code class="xref std std-option docutils literal notranslate"><span class="pre">--rd</span></code></a> 3 and above). 1.0 is a
typical value. Default 2.0</p>
<p><strong>Range of values:</strong> 0 .. 5.0</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-psy-rdoq">
<code class="sig-name descname">--psy-rdoq</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-psy-rdoq" title="Permalink to this definition">¶</a></dt>
<dd><p>Influence rate distortion optimized quantization by favoring higher
energy in the reconstructed image. This generally improves perceived
visual quality at the cost of lower quality metric scores.  It only
has effect when <a class="reference internal" href="#cmdoption-rdoq-level"><code class="xref std std-option docutils literal notranslate"><span class="pre">--rdoq-level</span></code></a> is 1 or 2. High values can
be beneficial in preserving high-frequency detail.
Default: 0.0 (1.0 for presets slow, slower, veryslow)</p>
<p><strong>Range of values:</strong> 0 .. 50.0</p>
</dd></dl>

</div>
<div class="section" id="slice-decision-options">
<h2>Slice decision options<a class="headerlink" href="#slice-decision-options" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-open-gop">
<code class="sig-name descname">--open-gop</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-open-gop</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-open-gop" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable open GOP, allow I-slices to be non-IDR. Default enabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-keyint">
<code class="sig-name descname">--keyint</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-I</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-keyint" title="Permalink to this definition">¶</a></dt>
<dd><p>Max intra period in frames. A special case of infinite-gop (single
keyframe at the beginning of the stream) can be triggered with
argument -1. Use 1 to force all-intra. When intra-refresh is enabled
it specifies the interval between which refresh sweeps happen. Default 250</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-min-keyint">
<code class="sig-name descname">--min-keyint</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-i</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-min-keyint" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum GOP size. Scenecuts beyond this interval are coded as IDR and start
a new keyframe, while scenecuts closer together are coded as I or P. For
fixed keyframe interval, set value to be equal to keyint.</p>
<p><strong>Range of values:</strong> &gt;=0 (0: auto)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-scenecut">
<code class="sig-name descname">--scenecut</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-scenecut</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-scenecut" title="Permalink to this definition">¶</a></dt>
<dd><p>How aggressively I-frames need to be inserted. The higher the
threshold value, the more aggressive the I-frame placement.
<a class="reference internal" href="#cmdoption-scenecut"><code class="xref std std-option docutils literal notranslate"><span class="pre">--scenecut</span></code></a> 0 or <a class="reference internal" href="#cmdoption-scenecut"><code class="xref std std-option docutils literal notranslate"><span class="pre">--no-scenecut</span></code></a> disables adaptive
I frame placement. Default 40</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-scenecut-bias">
<code class="sig-name descname">--scenecut-bias</code><code class="sig-prename descclassname"> &lt;0..100.0&gt;</code><a class="headerlink" href="#cmdoption-scenecut-bias" title="Permalink to this definition">¶</a></dt>
<dd><p>This value represents the percentage difference between the inter cost and
intra cost of a frame used in scenecut detection. For example, a value of 5 indicates,
if the inter cost of a frame is greater than or equal to 95 percent of the intra cost of the frame,
then detect this frame as scenecut. Values between 5 and 15 are recommended. Default 5.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-radl">
<code class="sig-name descname">--radl</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-radl" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of RADL pictures allowed infront of IDR. Requires fixed keyframe interval.
Recommended value is 2-3. Default 0 (disabled).</p>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a>Range of values: Between 0 and <cite>–bframes</cite></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ctu-info">
<code class="sig-name descname">--ctu-info</code><code class="sig-prename descclassname"> &lt;0</code><code class="sig-prename descclassname">, </code><code class="sig-name descname">1</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">2</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">4</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">6&gt;</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-ctu-info" title="Permalink to this definition">¶</a></dt>
<dd><p>This value enables receiving CTU information asynchronously and determine reaction to the CTU information. Default 0.
1: force the partitions if CTU information is present.
2: functionality of (1) and reduce qp if CTU information has changed.
4: functionality of (1) and force Inter modes when CTU Information has changed, merge/skip otherwise.
This option should be enabled only when planning to invoke the API function x265_encoder_ctu_info to copy ctu-info asynchronously.
If enabled without calling the API function, the encoder will wait indefinitely.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-intra-refresh">
<code class="sig-name descname">--intra-refresh</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-intra-refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables Periodic Intra Refresh(PIR) instead of keyframe insertion.
PIR can replace keyframes by inserting a column of intra blocks in
non-keyframes, that move across the video from one side to the other
and thereby refresh the image but over a period of multiple
frames instead of a single keyframe.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-rc-lookahead">
<code class="sig-name descname">--rc-lookahead</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-rc-lookahead" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames for slice-type decision lookahead (a key
determining factor for encoder latency). The longer the lookahead
buffer the more accurate scenecut decisions will be, and the more
effective cuTree will be at improving adaptive quant. Having a
lookahead larger than the max keyframe interval is not helpful.
Default 20</p>
<p><strong>Range of values:</strong> Between the maximum consecutive bframe count (<a class="reference internal" href="#cmdoption-bframes"><code class="xref std std-option docutils literal notranslate"><span class="pre">--bframes</span></code></a>) and 250</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gop-lookahead">
<code class="sig-name descname">--gop-lookahead</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-gop-lookahead" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames for GOP boundary decision lookahead. If a scenecut frame is found
within this from the gop boundary set by <cite>–keyint</cite>, the GOP will be extented until such a point,
otherwise the GOP will be terminated as set by <cite>–keyint</cite>. Default 0.</p>
<p><strong>Range of values:</strong> Between 0 and (<cite>–rc-lookahead</cite> - mini-GOP length)</p>
<p>It is recommended to have <cite>–gop-lookahaed</cite> less than <cite>–min-keyint</cite> as scenecuts beyond
<cite>–min-keyint</cite> are already being coded as keyframes.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-lookahead-slices">
<code class="sig-name descname">--lookahead-slices</code><code class="sig-prename descclassname"> &lt;0..16&gt;</code><a class="headerlink" href="#cmdoption-lookahead-slices" title="Permalink to this definition">¶</a></dt>
<dd><p>Use multiple worker threads to measure the estimated cost of each frame
within the lookahead. The frame is divided into the specified number of
slices, and one-thread is launched  per slice. When <a class="reference internal" href="#cmdoption-b-adapt"><code class="xref std std-option docutils literal notranslate"><span class="pre">--b-adapt</span></code></a> is
2, most frame cost estimates will be performed in batch mode (many cost
estimates at the same time) and lookahead-slices is ignored for batched
estimates; it may still be used for single cost estimations. The higher this
parameter, the less accurate the frame costs will be (since context is lost
across slice boundaries) which will result in less accurate B-frame and
scene-cut decisions. The effect on performance can be significant especially
on systems with many threads.</p>
<p>The encoder may internally lower the number of slices or disable
slicing to ensure each slice codes at least 10 16x16 rows of lowres
blocks to minimize the impact on quality. For example, for 720p and
1080p videos, the number of slices is capped to 4 and 6, respectively.
For resolutions lesser than 720p, slicing is auto-disabled.</p>
<p>If slices are used in lookahead, they are logged in the list of tools
as <em>lslices</em></p>
<p><strong>Values:</strong> 0 - disabled. 1 is the same as 0. Max 16.
Default: 8 for ultrafast, superfast, faster, fast, medium</p>
<blockquote>
<div><p>4 for slow, slower
disabled for veryslow, slower</p>
</div></blockquote>
</dd></dl>

<dl class="option">
<dt id="cmdoption-lookahead-threads">
<code class="sig-name descname">--lookahead-threads</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-lookahead-threads" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Use multiple worker threads dedicated to doing only lookahead instead of sharing
the worker threads with frame Encoders. A dedicated lookahead threadpool is created with the
specified number of worker threads. This can range from 0 upto half the
hardware threads available for encoding. Using too many threads for lookahead can starve
resources for frame Encoder and can harm performance. Default is 0 - disabled, Lookahead
shares worker threads with other FrameEncoders .</p>
</div></blockquote>
<p><strong>Values:</strong> 0 - disabled(default). Max - Half of available hardware threads.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-b-adapt">
<code class="sig-name descname">--b-adapt</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-b-adapt" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the level of effort in determining B frame placement.</p>
<p>With b-adapt 0, the GOP structure is fixed based on the values of
<a class="reference internal" href="#cmdoption-keyint"><code class="xref std std-option docutils literal notranslate"><span class="pre">--keyint</span></code></a> and <a class="reference internal" href="#cmdoption-bframes"><code class="xref std std-option docutils literal notranslate"><span class="pre">--bframes</span></code></a>.</p>
<p>With b-adapt 1 a light lookahead is used to choose B frame placement.</p>
<p>With b-adapt 2 (trellis) a viterbi B path selection is performed</p>
<p><strong>Values:</strong> 0:none; 1:fast; 2:full(trellis) <strong>default</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-bframes">
<code class="sig-name descname">--bframes</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-b</code><code class="sig-prename descclassname"> &lt;0..16&gt;</code><a class="headerlink" href="#cmdoption-bframes" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of consecutive b-frames. Use <a class="reference internal" href="#cmdoption-bframes"><code class="xref std std-option docutils literal notranslate"><span class="pre">--bframes</span></code></a> 0 to
force all P/I low-latency encodes. Default 4. This parameter has a
quadratic effect on the amount of memory allocated and the amount of
work performed by the full trellis version of <a class="reference internal" href="#cmdoption-b-adapt"><code class="xref std std-option docutils literal notranslate"><span class="pre">--b-adapt</span></code></a>
lookahead.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-bframe-bias">
<code class="sig-name descname">--bframe-bias</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-bframe-bias" title="Permalink to this definition">¶</a></dt>
<dd><p>Bias towards B frames in slicetype decision. The higher the bias the
more likely x265 is to use B frames. Can be any value between -90
and 100 and is clipped to that range. Default 0</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-b-pyramid">
<code class="sig-name descname">--b-pyramid</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-b-pyramid</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-b-pyramid" title="Permalink to this definition">¶</a></dt>
<dd><p>Use B-frames as references, when possible. Default enabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-force-flush">
<code class="sig-name descname">--force-flush</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-force-flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Force the encoder to flush frames. Default is 0.</p>
<p>Values:
0 - flush the encoder only when all the input pictures are over.
1 - flush all the frames even when the input is not over.</p>
<blockquote>
<div><p>slicetype decision may change with this option.</p>
</div></blockquote>
<p>2 - flush the slicetype decided frames only.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-fades">
<code class="sig-name descname">--fades</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-fades</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-fades" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect and handle fade-in regions. Default disabled.</p>
</dd></dl>

</div>
<div class="section" id="quality-rate-control-and-rate-distortion-options">
<h2>Quality, rate control and rate distortion options<a class="headerlink" href="#quality-rate-control-and-rate-distortion-options" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-bitrate">
<code class="sig-name descname">--bitrate</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-bitrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables single-pass ABR rate control. Specify the target bitrate in
kbps. Default is 0 (CRF)</p>
<p><strong>Range of values:</strong> An integer greater than 0</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-crf">
<code class="sig-name descname">--crf</code><code class="sig-prename descclassname"> &lt;0..51.0&gt;</code><a class="headerlink" href="#cmdoption-crf" title="Permalink to this definition">¶</a></dt>
<dd><p>Quality-controlled variable bitrate. CRF is the default rate control
method; it does not try to reach any particular bitrate target,
instead it tries to achieve a given uniform quality and the size of
the bitstream is determined by the complexity of the source video.
The higher the rate factor the higher the quantization and the lower
the quality. Default rate factor is 28.0.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-crf-max">
<code class="sig-name descname">--crf-max</code><code class="sig-prename descclassname"> &lt;0..51.0&gt;</code><a class="headerlink" href="#cmdoption-crf-max" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify an upper limit to the rate factor which may be assigned to
any given frame (ensuring a max QP).  This is dangerous when CRF is
used in combination with VBV as it may result in buffer underruns.
Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-crf-min">
<code class="sig-name descname">--crf-min</code><code class="sig-prename descclassname"> &lt;0..51.0&gt;</code><a class="headerlink" href="#cmdoption-crf-min" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify an lower limit to the rate factor which may be assigned to
any given frame (ensuring a min compression factor).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-vbv-bufsize">
<code class="sig-name descname">--vbv-bufsize</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-vbv-bufsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the size of the VBV buffer (kbits). Enables VBV in ABR
mode.  In CRF mode, <a class="reference internal" href="#cmdoption-vbv-maxrate"><code class="xref std std-option docutils literal notranslate"><span class="pre">--vbv-maxrate</span></code></a> must also be specified.
Default 0 (vbv disabled)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-vbv-maxrate">
<code class="sig-name descname">--vbv-maxrate</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-vbv-maxrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum local bitrate (kbits/sec). Will be used only if vbv-bufsize
is also non-zero. Both vbv-bufsize and vbv-maxrate are required to
enable VBV in CRF mode. Default 0 (disabled)</p>
<p>Note that when VBV is enabled (with a valid <a class="reference internal" href="#cmdoption-vbv-bufsize"><code class="xref std std-option docutils literal notranslate"><span class="pre">--vbv-bufsize</span></code></a>),
VBV emergency denoising is turned on. This will turn on aggressive
denoising at the frame level when frame QP &gt; QP_MAX_SPEC (51), drastically
reducing bitrate and allowing ratecontrol to assign lower QPs for
the following frames. The visual effect is blurring, but removes
significant blocking/displacement artifacts.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-vbv-init">
<code class="sig-name descname">--vbv-init</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-vbv-init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial buffer occupancy. The portion of the decode buffer which
must be full before the decoder will begin decoding.  Determines
absolute maximum frame size. May be specified as a fractional value
between 0 and 1, or in kbits. In other words these two option pairs
are equivalent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">vbv</span><span class="o">-</span><span class="n">bufsize</span> <span class="mi">1000</span> <span class="o">--</span><span class="n">vbv</span><span class="o">-</span><span class="n">init</span> <span class="mi">900</span>
<span class="o">--</span><span class="n">vbv</span><span class="o">-</span><span class="n">bufsize</span> <span class="mi">1000</span> <span class="o">--</span><span class="n">vbv</span><span class="o">-</span><span class="n">init</span> <span class="mf">0.9</span>
</pre></div>
</div>
<p>Default 0.9</p>
<p><strong>Range of values:</strong> fractional: 0 - 1.0, or kbits: 2 .. bufsize</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-vbv-end">
<code class="sig-name descname">--vbv-end</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-vbv-end" title="Permalink to this definition">¶</a></dt>
<dd><p>Final buffer emptiness. The portion of the decode buffer that must be
available after all the specified frames have been inserted into the
decode buffer. Specified as a fractional value between 0 and 1, or in
kbits. Default 0 (disabled)</p>
<p>This enables basic support for chunk-parallel encoding where each segment
can specify the starting and ending state of the VBV buffer so that VBV
compliance can be maintained when chunks are independently encoded and
stitched together.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-vbv-end-fr-adj">
<code class="sig-name descname">--vbv-end-fr-adj</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-vbv-end-fr-adj" title="Permalink to this definition">¶</a></dt>
<dd><p>Frame from which qp has to be adjusted to achieve final decode buffer
emptiness. Specified as a fraction of the total frames. Fractions &gt; 0 are
supported only when the total number of frames is known. Default 0.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-qp">
<code class="sig-name descname">--qp</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-q</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-qp" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify base quantization parameter for Constant QP rate control.
Using this option enables Constant QP rate control. The specified QP
is assigned to P slices. I and B slices are given QPs relative to P
slices using param-&gt;rc.ipFactor and param-&gt;rc.pbFactor unless QP 0
is specified, in which case QP 0 is used for all slice types.  Note
that QP 0 does not cause lossless encoding, it only disables
quantization. Default disabled.</p>
<p><strong>Range of values:</strong> an integer from 0 to 51</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-lossless">
<code class="sig-name descname">--lossless</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-lossless</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-lossless" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables true lossless coding by bypassing scaling, transform,
quantization and in-loop filter processes. This is used for
ultra-high bitrates with zero loss of quality. Reconstructed output
pictures are bit-exact to the input pictures. Lossless encodes
implicitly have no rate control, all rate control options are
ignored. Slower presets will generally achieve better compression
efficiency (and generate smaller bitstreams). Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-aq-mode">
<code class="sig-name descname">--aq-mode</code><code class="sig-prename descclassname"> &lt;0|1|2|3|4&gt;</code><a class="headerlink" href="#cmdoption-aq-mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Adaptive Quantization operating mode. Raise or lower per-block
quantization based on complexity analysis of the source image. The
more complex the block, the more quantization is used. This offsets
the tendency of the encoder to spend too many bits on complex areas
and not enough in flat areas.</p>
<ol class="arabic simple" start="0">
<li><p>disabled</p></li>
<li><p>AQ enabled</p></li>
<li><p>AQ enabled with auto-variance <strong>(default)</strong></p></li>
</ol>
<p>3. AQ enabled with auto-variance and bias to dark scenes. This is
recommended for 8-bit encodes or low-bitrate 10-bit encodes, to
prevent color banding/blocking.
4. AQ enabled with auto-variance and edge information.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-aq-strength">
<code class="sig-name descname">--aq-strength</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-aq-strength" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust the strength of the adaptive quantization offsets. Setting
<a class="reference internal" href="#cmdoption-aq-strength"><code class="xref std std-option docutils literal notranslate"><span class="pre">--aq-strength</span></code></a> to 0 disables AQ. At aq-modes 2 and 3, high
aq-strengths will lead to high QP offsets resulting in a large
difference in achieved bitrates.</p>
<p>Default 1.0.
<strong>Range of values:</strong> 0.0 to 3.0</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hevc-aq">
<code class="sig-name descname">--hevc-aq</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-hevc-aq" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable adaptive quantization
It scales the quantization step size according to the spatial activity of one
coding unit relative to frame average spatial activity. This AQ method utilizes
the minimum variance of sub-unit in each coding unit to represent the coding
unit?s spatial complexity.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-qp-adaptation-range">
<code class="sig-name descname">--qp-adaptation-range</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-qp-adaptation-range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delta-QP range by QP adaptation based on a psycho-visual model.</p>
<p>Default 1.0.
<strong>Range of values:</strong> 1.0 to 6.0</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-aq-motion">
<code class="sig-name descname">--aq-motion</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-aq-motion</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-aq-motion" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust the AQ offsets based on the relative motion of each block with
respect to the motion of the frame. The more the relative motion of the block,
the more quantization is used. Default disabled. <strong>Experimental Feature</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-qg-size">
<code class="sig-name descname">--qg-size</code><code class="sig-prename descclassname"> &lt;64|32|16|8&gt;</code><a class="headerlink" href="#cmdoption-qg-size" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable adaptive quantization for sub-CTUs. This parameter specifies
the minimum CU size at which QP can be adjusted, ie. Quantization Group
size. Allowed range of values are 64, 32, 16, 8 provided this falls within
the inclusive range [maxCUSize, minCUSize].
Default: same as maxCUSize</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-cutree">
<code class="sig-name descname">--cutree</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-cutree</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-cutree" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable the use of lookahead’s lowres motion vector fields to
determine the amount of reuse of each block to tune adaptive
quantization factors. CU blocks which are heavily reused as motion
reference for later frames are given a lower QP (more bits) while CU
blocks which are quickly changed and are not referenced are given
less bits. This tends to improve detail in the backgrounds of video
with less detail in areas of high motion. Default enabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-pass">
<code class="sig-name descname">--pass</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-pass" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable multi-pass rate control mode. Input is encoded multiple times,
storing the encoded information of each pass in a stats file from which
the consecutive pass tunes the qp of each frame to improve the quality
of the output. Default disabled</p>
<ol class="arabic simple">
<li><p>First pass, creates stats file</p></li>
<li><p>Last pass, does not overwrite stats file</p></li>
<li><p>Nth pass, overwrites stats file</p></li>
</ol>
<p><strong>Range of values:</strong> 1 to 3</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-stats">
<code class="sig-name descname">--stats</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify file name of of the multi-pass stats file. If unspecified
the encoder will use x265_2pass.log</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-slow-firstpass">
<code class="sig-name descname">--slow-firstpass</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-slow-firstpass</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-slow-firstpass" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable first pass encode with the exact settings specified.
The quality in subsequent multi-pass encodes is better
(compared to first pass) when the settings match across each pass.
Default enabled.</p>
<p>When slow first pass is disabled, a <strong>turbo</strong> encode with the following
go-fast options is used to improve performance:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#cmdoption-fast-intra"><code class="xref std std-option docutils literal notranslate"><span class="pre">--fast-intra</span></code></a></p></li>
<li><p><a class="reference internal" href="#cmdoption-rect"><code class="xref std std-option docutils literal notranslate"><span class="pre">--no-rect</span></code></a></p></li>
<li><p><a class="reference internal" href="#cmdoption-amp"><code class="xref std std-option docutils literal notranslate"><span class="pre">--no-amp</span></code></a></p></li>
<li><p><a class="reference internal" href="#cmdoption-early-skip"><code class="xref std std-option docutils literal notranslate"><span class="pre">--early-skip</span></code></a></p></li>
<li><p><a class="reference internal" href="#cmdoption-ref"><code class="xref std std-option docutils literal notranslate"><span class="pre">--ref</span></code></a> = 1</p></li>
<li><p><a class="reference internal" href="#cmdoption-max-merge"><code class="xref std std-option docutils literal notranslate"><span class="pre">--max-merge</span></code></a> = 1</p></li>
<li><p><a class="reference internal" href="#cmdoption-me"><code class="xref std std-option docutils literal notranslate"><span class="pre">--me</span></code></a> = DIA</p></li>
<li><p><a class="reference internal" href="#cmdoption-subme"><code class="xref std std-option docutils literal notranslate"><span class="pre">--subme</span></code></a> = MIN(2, <a class="reference internal" href="#cmdoption-subme"><code class="xref std std-option docutils literal notranslate"><span class="pre">--subme</span></code></a>)</p></li>
<li><p><a class="reference internal" href="#cmdoption-rd"><code class="xref std std-option docutils literal notranslate"><span class="pre">--rd</span></code></a> = MIN(2, <a class="reference internal" href="#cmdoption-rd"><code class="xref std std-option docutils literal notranslate"><span class="pre">--rd</span></code></a>)</p></li>
</ul>
</dd></dl>

<dl class="option">
<dt id="cmdoption-multi-pass-opt-analysis">
<code class="sig-name descname">--multi-pass-opt-analysis</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-multi-pass-opt-analysis</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-multi-pass-opt-analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable/Disable multipass analysis refinement along with multipass ratecontrol. Based on
the information stored in pass 1, in subsequent passes analysis data is refined
and also redundant steps are skipped.
In pass 1 analysis information like motion vector, depth, reference and prediction
modes of the final best CTU partition is stored for each CTU.
Multipass analysis refinement cannot be enabled when ‘analysis-save/analysis-load’ option
is enabled and both will be disabled when enabled together. This feature requires ‘pmode/pme’
to be disabled and hence pmode/pme will be disabled when enabled at the same time.</p>
<p>Default: disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-multi-pass-opt-distortion">
<code class="sig-name descname">--multi-pass-opt-distortion</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-multi-pass-opt-distortion</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-multi-pass-opt-distortion" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable/Disable multipass refinement of qp based on distortion data along with multipass
ratecontrol. In pass 1 distortion of best CTU partition is stored. CTUs with high
distortion get lower(negative)qp offsets and vice-versa for low distortion CTUs in pass 2.
This helps to improve the subjective quality.
Multipass refinement of qp cannot be enabled when ‘analysis-save/analysis-load’ option
is enabled and both will be disabled when enabled together. ‘multi-pass-opt-distortion’
requires ‘pmode/pme’ to be disabled and hence pmode/pme will be disabled when enabled along with it.</p>
<p>Default: disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-strict-cbr">
<code class="sig-name descname">--strict-cbr</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-strict-cbr</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-strict-cbr" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables stricter conditions to control bitrate deviance from the
target bitrate in ABR mode. Bit rate adherence is prioritised
over quality. Rate tolerance is reduced to 50%. Default disabled.</p>
<p>This option is for use-cases which require the final average bitrate
to be within very strict limits of the target; preventing overshoots,
while keeping the bit rate within 5% of the target setting,
especially in short segment encodes. Typically, the encoder stays
conservative, waiting until there is enough feedback in terms of
encoded frames to control QP. strict-cbr allows the encoder to be
more aggressive in hitting the target bitrate even for short segment
videos.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-cbqpoffs">
<code class="sig-name descname">--cbqpoffs</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-cbqpoffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset of Cb chroma QP from the luma QP selected by rate control.
This is a general way to spend more or less bits on the chroma
channel.  Default 0</p>
<p><strong>Range of values:</strong> -12 to 12</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-crqpoffs">
<code class="sig-name descname">--crqpoffs</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-crqpoffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset of Cr chroma QP from the luma QP selected by rate control.
This is a general way to spend more or less bits on the chroma
channel.  Default 0</p>
<p><strong>Range of values:</strong>  -12 to 12</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-ipratio">
<code class="sig-name descname">--ipratio</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-ipratio" title="Permalink to this definition">¶</a></dt>
<dd><p>QP ratio factor between I and P slices. This ratio is used in all of
the rate control modes. Some <a class="reference internal" href="#cmdoption-tune"><code class="xref std std-option docutils literal notranslate"><span class="pre">--tune</span></code></a> options may change the
default value. It is not typically manually specified. Default 1.4</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-pbratio">
<code class="sig-name descname">--pbratio</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-pbratio" title="Permalink to this definition">¶</a></dt>
<dd><p>QP ratio factor between P and B slices. This ratio is used in all of
the rate control modes. Some <a class="reference internal" href="#cmdoption-tune"><code class="xref std std-option docutils literal notranslate"><span class="pre">--tune</span></code></a> options may change the
default value. It is not typically manually specified. Default 1.3</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-qcomp">
<code class="sig-name descname">--qcomp</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-qcomp" title="Permalink to this definition">¶</a></dt>
<dd><p>qComp sets the quantizer curve compression factor. It weights the
frame quantizer based on the complexity of residual (measured by
lookahead). It’s value must be between 0.5 and 1.0. Default value is
0.6. Increasing it to 1.0 will effectively generate CQP.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-qpstep">
<code class="sig-name descname">--qpstep</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-qpstep" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum single adjustment in QP allowed to rate control. Default 4</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-qpmin">
<code class="sig-name descname">--qpmin</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-qpmin" title="Permalink to this definition">¶</a></dt>
<dd><p>sets a hard lower limit on QP allowed to ratecontrol. Default 0</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-qpmax">
<code class="sig-name descname">--qpmax</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-qpmax" title="Permalink to this definition">¶</a></dt>
<dd><p>sets a hard upper limit on QP allowed to ratecontrol. Default 69</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-rc-grain">
<code class="sig-name descname">--rc-grain</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-rc-grain</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-rc-grain" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables a specialised ratecontrol algorithm for film grain content. This
parameter strictly minimises QP fluctuations within and across frames
and removes pulsing of grain. Default disabled.
Enabled when :option:’–tune’ grain is applied. It is highly recommended
that this option is used through the tune grain feature where a combination
of param options are used to improve visual quality.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-const-vbv">
<code class="sig-name descname">--const-vbv</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-const-vbv</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-const-vbv" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables VBV algorithm to be consistent across runs. Default disabled.
Enabled when :option:’–tune’ grain is applied.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-qblur">
<code class="sig-name descname">--qblur</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-qblur" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporally blur quants. Default 0.5</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-cplxblur">
<code class="sig-name descname">--cplxblur</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-cplxblur" title="Permalink to this definition">¶</a></dt>
<dd><p>temporally blur complexity. default 20</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-zones">
<code class="sig-name descname">--zones</code><code class="sig-prename descclassname"> &lt;zone0&gt;/&lt;zone1&gt;/...</code><a class="headerlink" href="#cmdoption-zones" title="Permalink to this definition">¶</a></dt>
<dd><p>Tweak the bitrate of regions of the video. Each zone takes the form:</p>
<p>&lt;start frame&gt;,&lt;end frame&gt;,&lt;option&gt; where &lt;option&gt; is either q=&lt;integer&gt;
(force QP) or b=&lt;float&gt; (bitrate multiplier).</p>
<p>If zones overlap, whichever comes later in the list takes precedence.
Default none</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-zonefile">
<code class="sig-name descname">--zonefile</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-zonefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a text file which contains the boundaries of the zones where
each of zones are configurable. The format of each line is:</p>
<p>&lt;frame number&gt; &lt;options to be configured&gt;</p>
<p>The frame number indicates the beginning of a zone. The options
following this is applied until another zone begins. The reconfigurable
options can be spcified as –&lt;feature name&gt; &lt;feature value&gt;</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

</div>
<div class="section" id="quantization-options">
<h2>Quantization Options<a class="headerlink" href="#quantization-options" title="Permalink to this headline">¶</a></h2>
<p>Note that rate-distortion optimized quantization (RDOQ) is enabled
implicitly at <a class="reference internal" href="#cmdoption-rd"><code class="xref std std-option docutils literal notranslate"><span class="pre">--rd</span></code></a> 4, 5, and 6 and disabled implicitly at all
other levels.</p>
<dl class="option">
<dt id="cmdoption-signhide">
<code class="sig-name descname">--signhide</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-signhide</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-signhide" title="Permalink to this definition">¶</a></dt>
<dd><p>Hide sign bit of one coeff per TU (rdo). The last sign is implied.
This requires analyzing all the coefficients to determine if a sign
must be toggled, and then to determine which one can be toggled with
the least amount of distortion. Default enabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-qpfile">
<code class="sig-name descname">--qpfile</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-qpfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a text file which contains frametypes and QPs for some or
all frames. The format of each line is:</p>
<p>framenumber frametype QP</p>
<p>Frametype can be one of [I,i,K,P,B,b]. <strong>B</strong> is a referenced B frame,
<strong>b</strong> is an unreferenced B frame.  <strong>I</strong> is a keyframe (random
access point) while <strong>i</strong> is an I frame that is not a keyframe
(references are not broken). <strong>K</strong> implies <strong>I</strong> if closed_gop option
is enabled, and <strong>i</strong> otherwise.</p>
<p>Specifying QP (integer) is optional, and if specified they are
clamped within the encoder to qpmin/qpmax.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-scaling-list">
<code class="sig-name descname">--scaling-list</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-scaling-list" title="Permalink to this definition">¶</a></dt>
<dd><p>Quantization scaling lists. HEVC supports 6 quantization scaling
lists to be defined; one each for Y, Cb, Cr for intra prediction and
one each for inter prediction.</p>
<p>x265 does not use scaling lists by default, but this can also be
made explicit by <a class="reference internal" href="#cmdoption-scaling-list"><code class="xref std std-option docutils literal notranslate"><span class="pre">--scaling-list</span></code></a> <em>off</em>.</p>
<p>HEVC specifies a default set of scaling lists which may be enabled
without requiring them to be signaled in the SPS. Those scaling
lists can be enabled via <a class="reference internal" href="#cmdoption-scaling-list"><code class="xref std std-option docutils literal notranslate"><span class="pre">--scaling-list</span></code></a> <em>default</em>.</p>
<p>All other strings indicate a filename containing custom scaling
lists in the HM format. The encode will abort if the file is not
parsed correctly. Custom lists must be signaled in the SPS. A sample
scaling list file is available in <a class="reference external" href="https://bitbucket.org/multicoreware/x265/downloads/reference_scalinglist.txt">the downloads page</a></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-lambda-file">
<code class="sig-name descname">--lambda-file</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-lambda-file" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a text file containing values for x265_lambda_tab and
x265_lambda2_tab. Each table requires MAX_MAX_QP+1 (70) float
values.</p>
<p>The text file syntax is simple. Comma is considered to be
white-space. All white-space is ignored. Lines must be less than 2k
bytes in length. Content following hash (#) characters are ignored.
The values read from the file are logged at <a class="reference internal" href="#cmdoption-log-level"><code class="xref std std-option docutils literal notranslate"><span class="pre">--log-level</span></code></a>
debug.</p>
<p>Note that the lambda tables are process-global and so the new values
affect all encoders running in the same process.</p>
<p>Lambda values affect encoder mode decisions, the lower the lambda
the more bits it will try to spend on signaling information (motion
vectors and splits) and less on residual. This feature is intended
for experimentation.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-max-ausize-factor">
<code class="sig-name descname">--max-ausize-factor</code><code class="sig-prename descclassname"> &lt;float&gt;</code><a class="headerlink" href="#cmdoption-max-ausize-factor" title="Permalink to this definition">¶</a></dt>
<dd><p>It controls the maximum AU size defined in specification. It represents
the percentage of maximum AU size used. Default is 1. Range is 0.5 to 1.</p>
</dd></dl>

</div>
<div class="section" id="loop-filters">
<h2>Loop filters<a class="headerlink" href="#loop-filters" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-deblock">
<code class="sig-name descname">--deblock</code><code class="sig-prename descclassname">=&lt;int&gt;:&lt;int&gt;</code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-deblock</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-deblock" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle deblocking loop filter, optionally specify deblocking
strength offsets.</p>
<p>&lt;int&gt;:&lt;int&gt; - parsed as tC offset and Beta offset
&lt;int&gt;,&lt;int&gt; - parsed as tC offset and Beta offset
&lt;int&gt;       - both tC and Beta offsets assigned the same value</p>
<p>If unspecified, the offsets default to 0. The offsets must be in a
range of -6 (lowest strength) to 6 (highest strength).</p>
<p>To disable the deblocking filter entirely, use –no-deblock or
–deblock=false. Default enabled, with both offsets defaulting to 0</p>
<p>If deblocking is disabled, or the offsets are non-zero, these
changes from the default configuration are signaled in the PPS.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sao">
<code class="sig-name descname">--sao</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-sao</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-sao" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle Sample Adaptive Offset loop filter, default enabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-sao-non-deblock">
<code class="sig-name descname">--sao-non-deblock</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-sao-non-deblock</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-sao-non-deblock" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify how to handle depencency between SAO and deblocking filter.
When enabled, non-deblocked pixels are used for SAO analysis. When
disabled, SAO analysis skips the right/bottom boundary areas.
Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-limit-sao">
<code class="sig-name descname">--limit-sao</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-limit-sao</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-limit-sao" title="Permalink to this definition">¶</a></dt>
<dd><p>Limit SAO filter computation by early terminating SAO process based
on inter prediction mode, CTU spatial-domain correlations, and relations
between luma and chroma.
Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-selective-sao">
<code class="sig-name descname">--selective-sao</code><code class="sig-prename descclassname"> &lt;0..4&gt;</code><a class="headerlink" href="#cmdoption-selective-sao" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles SAO at slice level. Default 0.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Level</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Disable SAO for all slices</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Enable SAO only for I-slices</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Enable SAO for I-slices &amp; P-slices</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Enable SAO for all reference slices</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Enable SAO for all slices</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="vui-video-usability-information-options">
<h2>VUI (Video Usability Information) options<a class="headerlink" href="#vui-video-usability-information-options" title="Permalink to this headline">¶</a></h2>
<p>x265 emits a VUI with only the timing info by default. If the SAR is
specified (or read from a Y4M header) it is also included.  All other
VUI fields must be manually specified.</p>
<dl class="option">
<dt id="cmdoption-sar">
<code class="sig-name descname">--sar</code><code class="sig-prename descclassname"> &lt;integer|w:h&gt;</code><a class="headerlink" href="#cmdoption-sar" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample Aspect Ratio, the ratio of width to height of an individual
sample (pixel). The user may supply the width and height explicitly
or specify an integer from the predefined list of aspect ratios
defined in the HEVC specification.  Default undefined (not signaled)</p>
<ol class="arabic simple">
<li><p>1:1 (square)</p></li>
<li><p>12:11</p></li>
<li><p>10:11</p></li>
<li><p>16:11</p></li>
<li><p>40:33</p></li>
<li><p>24:11</p></li>
<li><p>20:11</p></li>
<li><p>32:11</p></li>
<li><p>80:33</p></li>
<li><p>18:11</p></li>
<li><p>15:11</p></li>
<li><p>64:33</p></li>
<li><p>160:99</p></li>
<li><p>4:3</p></li>
<li><p>3:2</p></li>
<li><p>2:1</p></li>
</ol>
</dd></dl>

<dl class="option">
<dt id="cmdoption-display-window">
<code class="sig-name descname">--display-window</code><code class="sig-prename descclassname"> &lt;left,top,right,bottom&gt;</code><a class="headerlink" href="#cmdoption-display-window" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the (overscan) region of the image that does not contain
information because it was added to achieve certain resolution or
aspect ratio (the areas are typically black bars). The decoder may
be directed to crop away this region before displaying the images
via the <a class="reference internal" href="#cmdoption-overscan"><code class="xref std std-option docutils literal notranslate"><span class="pre">--overscan</span></code></a> option.  Default undefined (not
signaled).</p>
<p>Note that this has nothing to do with padding added internally by
the encoder to ensure the pictures size is a multiple of the minimum
coding unit (4x4). That padding is signaled in a separate
“conformance window” and is not user-configurable.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-overscan">
<code class="sig-name descname">--overscan</code><code class="sig-prename descclassname"> &lt;show|crop&gt;</code><a class="headerlink" href="#cmdoption-overscan" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify whether it is appropriate for the decoder to display or crop
the overscan area. Default unspecified (not signaled)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-videoformat">
<code class="sig-name descname">--videoformat</code><code class="sig-prename descclassname"> &lt;integer|string&gt;</code><a class="headerlink" href="#cmdoption-videoformat" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the source format of the original analog video prior to
digitizing and encoding. Default undefined (not signaled)</p>
<ol class="arabic simple" start="0">
<li><p>component</p></li>
<li><p>pal</p></li>
<li><p>ntsc</p></li>
<li><p>secam</p></li>
<li><p>mac</p></li>
<li><p>undefined</p></li>
</ol>
</dd></dl>

<dl class="option">
<dt id="cmdoption-range">
<code class="sig-name descname">--range</code><code class="sig-prename descclassname"> &lt;full|limited&gt;</code><a class="headerlink" href="#cmdoption-range" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify output range of black level and range of luma and chroma
signals. Default undefined (not signaled)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-colorprim">
<code class="sig-name descname">--colorprim</code><code class="sig-prename descclassname"> &lt;integer|string&gt;</code><a class="headerlink" href="#cmdoption-colorprim" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify color primaries to use when converting to RGB. Default
undefined (not signaled)</p>
<ol class="arabic simple">
<li><p>bt709</p></li>
<li><p>unknown</p></li>
<li><p><strong>reserved</strong></p></li>
<li><p>bt470m</p></li>
<li><p>bt470bg</p></li>
<li><p>smpte170m</p></li>
<li><p>smpte240m</p></li>
<li><p>film</p></li>
<li><p>bt2020</p></li>
<li><p>smpte428</p></li>
<li><p>smpte431</p></li>
<li><p>smpte432</p></li>
</ol>
</dd></dl>

<dl class="option">
<dt id="cmdoption-transfer">
<code class="sig-name descname">--transfer</code><code class="sig-prename descclassname"> &lt;integer|string&gt;</code><a class="headerlink" href="#cmdoption-transfer" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify transfer characteristics. Default undefined (not signaled)</p>
<ol class="arabic simple">
<li><p>bt709</p></li>
<li><p>unknown</p></li>
<li><p><strong>reserved</strong></p></li>
<li><p>bt470m</p></li>
<li><p>bt470bg</p></li>
<li><p>smpte170m</p></li>
<li><p>smpte240m</p></li>
<li><p>linear</p></li>
<li><p>log100</p></li>
<li><p>log316</p></li>
<li><p>iec61966-2-4</p></li>
<li><p>bt1361e</p></li>
<li><p>iec61966-2-1</p></li>
<li><p>bt2020-10</p></li>
<li><p>bt2020-12</p></li>
<li><p>smpte2084</p></li>
<li><p>smpte428</p></li>
<li><p>arib-std-b67</p></li>
</ol>
</dd></dl>

<dl class="option">
<dt id="cmdoption-colormatrix">
<code class="sig-name descname">--colormatrix</code><code class="sig-prename descclassname"> &lt;integer|string&gt;</code><a class="headerlink" href="#cmdoption-colormatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify color matrix setting i.e set the matrix coefficients used in
deriving the luma and chroma. Default undefined (not signaled)</p>
<ol class="arabic simple" start="0">
<li><p>GBR</p></li>
<li><p>bt709</p></li>
<li><p>undef</p></li>
<li><p><strong>reserved</strong></p></li>
<li><p>fcc</p></li>
<li><p>bt470bg</p></li>
<li><p>smpte170m</p></li>
<li><p>smpte240m</p></li>
<li><p>YCgCo</p></li>
<li><p>bt2020nc</p></li>
<li><p>bt2020c</p></li>
<li><p>smpte2085</p></li>
<li><p>chroma-derived-nc</p></li>
<li><p>chroma-derived-c</p></li>
<li><p>ictcp</p></li>
</ol>
</dd></dl>

<dl class="option">
<dt id="cmdoption-chromaloc">
<code class="sig-name descname">--chromaloc</code><code class="sig-prename descclassname"> &lt;0..5&gt;</code><a class="headerlink" href="#cmdoption-chromaloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify chroma sample location for 4:2:0 inputs. Consult the HEVC
specification for a description of these values. Default undefined
(not signaled)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-master-display">
<code class="sig-name descname">--master-display</code><code class="sig-prename descclassname"> &lt;string&gt;</code><a class="headerlink" href="#cmdoption-master-display" title="Permalink to this definition">¶</a></dt>
<dd><p>SMPTE ST 2086 mastering display color volume SEI info, specified as
a string which is parsed when the stream header SEI are emitted. The
string format is “G(%hu,%hu)B(%hu,%hu)R(%hu,%hu)WP(%hu,%hu)L(%u,%u)”
where %hu are unsigned 16bit integers and %u are unsigned 32bit
integers. The SEI includes X,Y display primaries for RGB channels
and white point (WP) in units of 0.00002 and max,min luminance (L)
values in units of 0.0001 candela per meter square. Applicable for HDR
content.</p>
<p>Example for a P3D65 1000-nits monitor, where G(x=0.265, y=0.690),
B(x=0.150, y=0.060), R(x=0.680, y=0.320), WP(x=0.3127, y=0.3290),
L(max=1000, min=0.0001):</p>
<blockquote>
<div><p>G(13250,34500)B(7500,3000)R(34000,16000)WP(15635,16450)L(10000000,1)</p>
</div></blockquote>
<p>Note that this string value will need to be escaped or quoted to
protect against shell expansion on many platforms. No default.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-max-cll">
<code class="sig-name descname">--max-cll</code><code class="sig-prename descclassname"> &lt;string&gt;</code><a class="headerlink" href="#cmdoption-max-cll" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum content light level (MaxCLL) and maximum frame average light
level (MaxFALL) as required by the Consumer Electronics Association
861.3 specification.</p>
<p>Specified as a string which is parsed when the stream header SEI are
emitted. The string format is “%hu,%hu” where %hu are unsigned 16bit
integers. The first value is the max content light level (or 0 if no
maximum is indicated), the second value is the maximum picture
average light level (or 0). Applicable for HDR content.</p>
<p>Example for MaxCLL=1000 candela per square meter, MaxFALL=400
candela per square meter:</p>
<blockquote>
<div><p>–max-cll “1000,400”</p>
</div></blockquote>
<p>Note that this string value will need to be escaped or quoted to
protect against shell expansion on many platforms. No default.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-cll">
<code class="sig-name descname">--cll</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-cll</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-cll" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit content light level SEI. Enabled automatically when <a class="reference internal" href="#cmdoption-dolby-vision-profile"><code class="xref std std-option docutils literal notranslate"><span class="pre">--dolby-vision-profile</span></code></a> 8.1
is specified. When enabled, signals max-cll and max-fall as 0 if <code class="xref std std-option docutils literal notranslate"><span class="pre">max-cll</span></code> is unspecified.
Default enabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hdr">
<code class="sig-name descname">--hdr</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-hdr</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-hdr" title="Permalink to this definition">¶</a></dt>
<dd><p>Force signalling of HDR parameters in SEI packets. Enabled
automatically when <a class="reference internal" href="#cmdoption-master-display"><code class="xref std std-option docutils literal notranslate"><span class="pre">--master-display</span></code></a> or <a class="reference internal" href="#cmdoption-max-cll"><code class="xref std std-option docutils literal notranslate"><span class="pre">--max-cll</span></code></a> is
specified. Useful when there is a desire to signal 0 values for max-cll
and max-fall. Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hdr-opt">
<code class="sig-name descname">--hdr-opt</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-hdr-opt</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-hdr-opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Add luma and chroma offsets for HDR/WCG content.
Input video should be 10 bit 4:2:0. Applicable for HDR content. It is recommended
that AQ-mode be enabled along with this feature. Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-dhdr10-info">
<code class="sig-name descname">--dhdr10-info</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-dhdr10-info" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts tone mapping information as an SEI message. It takes as input,
the path to the JSON file containing the Creative Intent Metadata
to be encoded as Dynamic Tone Mapping into the bitstream.</p>
<p>Click <a class="reference external" href="https://www.sra.samsung.com/assets/User-data-registered-itu-t-t35-SEI-message-for-ST-2094-40-v1.1.pdf">here</a>
for the syntax of the metadata file. A sample JSON file is available in <a class="reference external" href="https://bitbucket.org/multicoreware/x265/downloads/DCIP3_4K_to_400_dynamic.json">the downloads page</a></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-dhdr10-opt">
<code class="sig-name descname">--dhdr10-opt</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-dhdr10-opt</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-dhdr10-opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Limits the frames for which tone mapping information is inserted as
SEI message. Inserts SEI only for IDR frames and for frames where tone
mapping information has changed.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-min-luma">
<code class="sig-name descname">--min-luma</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-min-luma" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum luma value allowed for input pictures. Any values below min-luma
are clipped.  No default.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-max-luma">
<code class="sig-name descname">--max-luma</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-max-luma" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum luma value allowed for input pictures. Any values above max-luma
are clipped.  No default.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-nalu-file">
<code class="sig-name descname">--nalu-file</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-nalu-file" title="Permalink to this definition">¶</a></dt>
<dd><p>Text file containing userSEI in POC order : &lt;POC&gt;&lt;space&gt;&lt;PREFIX&gt;&lt;space&gt;&lt;NAL UNIT TYPE&gt;/&lt;SEI TYPE&gt;&lt;space&gt;&lt;SEI Payload&gt;
Parse the input file specified and inserts SEI messages into the bitstream.
Currently, we support only PREFIX SEI messages. This is an “application-only” feature.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-atc-sei">
<code class="sig-name descname">--atc-sei</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-atc-sei" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit the alternative transfer characteristics SEI message where the integer
is the preferred transfer characteristics. Required for HLG (Hybrid Log Gamma)
signalling. Not signalled by default.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-pic-struct">
<code class="sig-name descname">--pic-struct</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-pic-struct" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the picture structure and emits it in the picture timing SEI message.
Values in the range 0..12. See D.3.3 of the HEVC spec. for a detailed explanation.
Required for HLG (Hybrid Log Gamma) signalling. Not signalled by default.</p>
</dd></dl>

</div>
<div class="section" id="bitstream-options">
<h2>Bitstream options<a class="headerlink" href="#bitstream-options" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-annexb">
<code class="sig-name descname">--annexb</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-annexb</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-annexb" title="Permalink to this definition">¶</a></dt>
<dd><p>If enabled, x265 will produce Annex B bitstream format, which places
start codes before NAL. If disabled, x265 will produce file format,
which places length before NAL. x265 CLI will choose the right option
based on output format. Default enabled</p>
<p><strong>API ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-repeat-headers">
<code class="sig-name descname">--repeat-headers</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-repeat-headers</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-repeat-headers" title="Permalink to this definition">¶</a></dt>
<dd><p>If enabled, x265 will emit VPS, SPS, and PPS headers with every
keyframe. This is intended for use when you do not have a container
to keep the stream headers for you and you want keyframes to be
random access points. Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-aud">
<code class="sig-name descname">--aud</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-aud</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-aud" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit an access unit delimiter NAL at the start of each slice access
unit. If <a class="reference internal" href="#cmdoption-repeat-headers"><code class="xref std std-option docutils literal notranslate"><span class="pre">--repeat-headers</span></code></a> is not enabled (indicating the
user will be writing headers manually at the start of the stream)
the very first AUD will be skipped since it cannot be placed at the
start of the access unit, where it belongs. Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hrd">
<code class="sig-name descname">--hrd</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-hrd</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-hrd" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable the signalling of HRD parameters to the decoder. The HRD
parameters are carried by the Buffering Period SEI messages and
Picture Timing SEI messages providing timing information to the
decoder. Default disabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hrd-concat">
<code class="sig-name descname">--hrd-concat</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-hrd-concat</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-hrd-concat" title="Permalink to this definition">¶</a></dt>
<dd><p>Set concantenation flag for the first keyframe in the HRD buffering period SEI. This
is to signal the decoder if splicing is performed during bitstream generation.
Recommended to enable this option during chunked encoding, except for the first chunk.
Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-dolby-vision-profile">
<code class="sig-name descname">--dolby-vision-profile</code><code class="sig-prename descclassname"> &lt;integer|float&gt;</code><a class="headerlink" href="#cmdoption-dolby-vision-profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate bitstreams confirming to the specified Dolby Vision profile,
note that 0x7C01 makes RPU appear to be an unspecified NAL type in
HEVC stream. If BL is backward compatible, Dolby Vision single
layer VES will be equivalent to a backward compatible BL VES on legacy
device as RPU will be ignored.</p>
<p>The value is specified as a float or as an integer with the profile times 10,
for example profile 5 is specified as “5” or “5.0” or “50”.</p>
<p>Currently only profile 5, profile 8.1 and profile 8.2 enabled, Default 0 (disabled)</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-dolby-vision-rpu">
<code class="sig-name descname">--dolby-vision-rpu</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-dolby-vision-rpu" title="Permalink to this definition">¶</a></dt>
<dd><p>File containing Dolby Vision RPU metadata. If given, x265’s Dolby Vision
metadata parser will fill the RPU field of input pictures with the metadata
read from the file. The library will interleave access units with RPUs in the
bitstream. Default NULL (disabled).</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-info">
<code class="sig-name descname">--info</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-info</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-info" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit an informational SEI with the stream headers which describes
the encoder version, build info, and encode parameters. This is very
helpful for debugging purposes but encoding version numbers and
build info could make your bitstreams diverge and interfere with
regression testing. Default enabled</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-hash">
<code class="sig-name descname">--hash</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit decoded picture hash SEI, so the decoder may validate the
reconstructed pictures and detect data loss. Also useful as a
debug feature to validate the encoder state. Default None</p>
<ol class="arabic simple">
<li><p>MD5</p></li>
<li><p>CRC</p></li>
<li><p>Checksum</p></li>
</ol>
</dd></dl>

<dl class="option">
<dt id="cmdoption-temporal-layers-no-temporal-layers">
<code class="sig-name descname">--temporal-layers,--no-temporal-layers</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-temporal-layers-no-temporal-layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable a temporal sub layer. All referenced I/P/B frames are in the
base layer and all unreferenced B frames are placed in a temporal
enhancement layer. A decoder may chose to drop the enhancement layer
and only decode and display the base layer slices.</p>
<p>If used with a fixed GOP (<a class="reference internal" href="#cmdoption-b-adapt"><code class="xref std std-option docutils literal notranslate"><span class="pre">--b-adapt</span></code></a> 0) and <a class="reference internal" href="#cmdoption-bframes"><code class="xref std std-option docutils literal notranslate"><span class="pre">--bframes</span></code></a>
3 then the two layers evenly split the frame rate, with a cadence of
PbBbP. You probably also want <a class="reference internal" href="#cmdoption-scenecut"><code class="xref std std-option docutils literal notranslate"><span class="pre">--no-scenecut</span></code></a> and a keyframe
interval that is a multiple of 4.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-log2-max-poc-lsb">
<code class="sig-name descname">--log2-max-poc-lsb</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-log2-max-poc-lsb" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum of the picture order count. Default 8</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-vui-timing-info">
<code class="sig-name descname">--vui-timing-info</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-vui-timing-info</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-vui-timing-info" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit VUI timing info in bitstream. Default enabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-vui-hrd-info">
<code class="sig-name descname">--vui-hrd-info</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-vui-hrd-info</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-vui-hrd-info" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit VUI HRD info in  bitstream. Default enabled when
<a class="reference internal" href="#cmdoption-hrd"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hrd</span></code></a> is enabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-opt-qp-pps">
<code class="sig-name descname">--opt-qp-pps</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-opt-qp-pps</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-opt-qp-pps" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize QP in PPS (instead of default value of 26) based on the QP values
observed in last GOP. Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-opt-ref-list-length-pps">
<code class="sig-name descname">--opt-ref-list-length-pps</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-opt-ref-list-length-pps</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-opt-ref-list-length-pps" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize L0 and L1 ref list length in PPS (instead of default value of 0)
based on the lengths observed in the last GOP. Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-multi-pass-opt-rps">
<code class="sig-name descname">--multi-pass-opt-rps</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-multi-pass-opt-rps</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-multi-pass-opt-rps" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable storing commonly used RPS in SPS in multi pass mode. Default disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-opt-cu-delta-qp">
<code class="sig-name descname">--opt-cu-delta-qp</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-opt-cu-delta-qp</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-opt-cu-delta-qp" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize CU level QPs by pulling up lower QPs to value close to meanQP thereby
minimizing fluctuations in deltaQP signalling. Default disabled.</p>
<p>Only effective at RD levels 5 and 6</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-idr-recovery-sei">
<code class="sig-name descname">--idr-recovery-sei</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-idr-recovery-sei</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-idr-recovery-sei" title="Permalink to this definition">¶</a></dt>
<dt id="cmdoption-arg-emit">
<code class="sig-name descname">Emit</code><code class="sig-prename descclassname"> RecoveryPoint info as sei in bitstream for each IDR frame. Default disabled.</code><a class="headerlink" href="#cmdoption-arg-emit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="option">
<dt id="cmdoption-single-sei">
<code class="sig-name descname">--single-sei</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-single-sei</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-single-sei" title="Permalink to this definition">¶</a></dt>
<dt id="id4">
<code class="sig-name descname">Emit</code><code class="sig-prename descclassname"> SEI messages in a single NAL unit instead of multiple NALs. Default disabled.</code><a class="headerlink" href="#id4" title="Permalink to this definition">¶</a></dt>
<dt id="cmdoption-arg-when">
<code class="sig-name descname">When</code><code class="sig-prename descclassname"> HRD SEI is enabled the HM decoder will throw a warning.</code><a class="headerlink" href="#cmdoption-arg-when" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="dct-approximations">
<h2>DCT Approximations<a class="headerlink" href="#dct-approximations" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-lowpass-dct">
<code class="sig-name descname">--lowpass-dct</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-lowpass-dct" title="Permalink to this definition">¶</a></dt>
<dd><p>If enabled, x265 will use low-pass subband dct approximation instead of the
standard dct for 16x16 and 32x32 blocks. This approximation is less computational
intensive but it generates truncated coefficient matrixes for the transformed block.
Empirical analysis shows marginal loss in compression and performance gains up to 10%,
paticularly at moderate bit-rates.</p>
<p>This approximation should be considered for platforms with performance and time
constrains.</p>
<p>Default disabled. <strong>Experimental feature</strong></p>
</dd></dl>

</div>
<div class="section" id="debugging-options">
<h2>Debugging options<a class="headerlink" href="#debugging-options" title="Permalink to this headline">¶</a></h2>
<dl class="option">
<dt id="cmdoption-recon">
<code class="sig-name descname">--recon</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">-r</code><code class="sig-prename descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Output file containing reconstructed images in display order. If the
file extension is “.y4m” the file will contain a YUV4MPEG2 stream
header and frame headers. Otherwise it will be a raw YUV file in the
encoder’s internal bit depth.</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-recon-depth">
<code class="sig-name descname">--recon-depth</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-recon-depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Bit-depth of output file. This value defaults to the internal bit
depth and currently cannot to be modified.</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-recon-y4m-exec">
<code class="sig-name descname">--recon-y4m-exec</code><code class="sig-prename descclassname"> &lt;string&gt;</code><a class="headerlink" href="#cmdoption-recon-y4m-exec" title="Permalink to this definition">¶</a></dt>
<dd><p>If you have an application which can play a Y4MPEG stream received
on stdin, the x265 CLI can feed it reconstructed pictures in display
order.  The pictures will have no timing info, obviously, so the
picture timing will be determined primarily by encoding elapsed time
and latencies, but it can be useful to preview the pictures being
output by the encoder to validate input settings and rate control
parameters.</p>
<p>Example command for ffplay (assuming it is in your PATH):</p>
<p>–recon-y4m-exec “ffplay -i pipe:0 -autoexit”</p>
<p><strong>CLI ONLY</strong></p>
</dd></dl>

</div>
<div class="section" id="svt-hevc-encoder-options">
<h2>SVT-HEVC Encoder Options<a class="headerlink" href="#svt-hevc-encoder-options" title="Permalink to this headline">¶</a></h2>
<p>This section lists options which are SVT-HEVC encoder specific.
See section <a class="reference internal" href="svthevc.html#svthevc"><span class="std std-ref">svthevc</span></a> for more details.</p>
<dl class="option">
<dt id="cmdoption-svt">
<code class="sig-name descname">--svt</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-svt</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-svt" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable SVT-HEVC encoder if x265 is built with SVT-HEVC library. Default
disabled.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-svt-hme">
<code class="sig-name descname">--svt-hme</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-svt-hme</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-svt-hme" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable Hierarchical Motion Estimation(HME) in SVT-HEVC. Default enabled.</p>
<p><strong>CLI_ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-svt-search-width">
<code class="sig-name descname">--svt-search-width</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-svt-search-width" title="Permalink to this definition">¶</a></dt>
<dd><p>Search Area Width used during motion estimation. It depends on input resolution.
Values: [1-256]</p>
<p><strong>CLI_ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-svt-search-height">
<code class="sig-name descname">--svt-search-height</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-svt-search-height" title="Permalink to this definition">¶</a></dt>
<dd><p>Search Area Height used during motion estimation. It depends on input resolution.
Values: [1-256]</p>
<p><strong>CLI_ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-svt-compressed-ten-bit-format">
<code class="sig-name descname">--svt-compressed-ten-bit-format</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-svt-compressed-ten-bit-format</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-svt-compressed-ten-bit-format" title="Permalink to this definition">¶</a></dt>
<dd><p>In order to reduce the size of input YUV and to increase channel density,
SVT-HEVC accetps inputs in compressed-ten-bit-format. The conversion between
yuv420p10le and compressed ten bit format is a lossless operation. For more
details about the conversion refer
<a href="#id5"><span class="problematic" id="id6">`</span></a>here&lt;<a class="reference external" href="https://github.com/intel/SVT-HEVC/blob/master/Docs/SVT-HEVC_Encoder_User_Guide.pdf">https://github.com/intel/SVT-HEVC/blob/master/Docs/SVT-HEVC_Encoder_User_Guide.pdf</a>&gt;’_.</p>
<p><strong>CLI_ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-svt-speed-control">
<code class="sig-name descname">--svt-speed-control</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-svt-speed-control</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-svt-speed-control" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable speed control functionality to achieve real time encoding speed defined
by <a class="reference internal" href="#cmdoption-fps"><code class="xref std std-option docutils literal notranslate"><span class="pre">--fps</span></code></a>. Default disabled.</p>
<p><strong>CLI_ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-svt-preset-tuner">
<code class="sig-name descname">--svt-preset-tuner</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-svt-preset-tuner" title="Permalink to this definition">¶</a></dt>
<dd><p>SVT-HEVC exposes 13 presets. Presets [3-12] of SVT-HEVC is mapped to x265’s
presets [placebo-ultrafast]. Ultrafast is mapped to preset(12) of SVT-HEVC,
superfast to preset(11), placebo to preset(3) and so on. svt-preset-tuner works
only on top of placebo preset and maps to presets (0-2) of SVT-HEVC.</p>
<p>Values: [0-2]</p>
<p><strong>CLI_ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-svt-hierarchical-level">
<code class="sig-name descname">--svt-hierarchical-level</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-svt-hierarchical-level" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables multiple hierarchical levels in SVT-HEVC. Accepts values in the range [0-3].
0    -  Flat
1    -  2-Level Hierarchy
2    -  3-Level Hierarchy
3    -  4-Level Hierarchy</p>
<p>Default: 3</p>
<p><strong>CLI_ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-svt-base-layer-switch-mode">
<code class="sig-name descname">--svt-base-layer-switch-mode</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-svt-base-layer-switch-mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose type of slices to be in base layer. Accepts values 0,1.
0    -  Use B-frames in the base layer
1    -  Use P-frames in the base layer</p>
<p>Default: 0</p>
<p><strong>CLI_ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-svt-pred-struct">
<code class="sig-name descname">--svt-pred-struct</code><code class="sig-prename descclassname"> &lt;integer&gt;</code><a class="headerlink" href="#cmdoption-svt-pred-struct" title="Permalink to this definition">¶</a></dt>
<dd><p>Prediction structure forms the basis in deciding the GOP structure. SVT-HEVC
supports Low delay(P/B) and random access prediction structure. In a low delay
structure, pictures within a mini-gop can only refer to the previous pictures
in display order. In other words, picture with display order N can only refer
to pictures of display order lower than N. In random acccess method, pictures
can be referenced from both the directions. It accepts values in the range
[0-2]</p>
<p>0    -  Low Delay P
1    -  Low Delay B
2    -  Random Access</p>
<p>Default: 2</p>
<p><strong>CLI_ONLY</strong></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-svt-fps-in-vps">
<code class="sig-name descname">--svt-fps-in-vps</code><code class="sig-prename descclassname"></code><code class="sig-prename descclassname">, </code><code class="sig-name descname">--no-svt-fps-in-vps</code><code class="sig-prename descclassname"></code><a class="headerlink" href="#cmdoption-svt-fps-in-vps" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable sending timing info in VPS. Default disabled.</p>
<p><strong>CLI_ONLY</strong></p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Command Line Options</a><ul>
<li><a class="reference internal" href="#executable-options">Executable Options</a></li>
<li><a class="reference internal" href="#logging-statistic-options">Logging/Statistic Options</a></li>
<li><a class="reference internal" href="#performance-options">Performance Options</a></li>
<li><a class="reference internal" href="#input-output-file-options">Input/Output File Options</a></li>
<li><a class="reference internal" href="#profile-level-tier">Profile, Level, Tier</a></li>
<li><a class="reference internal" href="#mode-decision-analysis">Mode decision / Analysis</a></li>
<li><a class="reference internal" href="#temporal-motion-search-options">Temporal / motion search options</a></li>
<li><a class="reference internal" href="#spatial-intra-options">Spatial/intra options</a></li>
<li><a class="reference internal" href="#psycho-visual-options">Psycho-visual options</a></li>
<li><a class="reference internal" href="#slice-decision-options">Slice decision options</a></li>
<li><a class="reference internal" href="#quality-rate-control-and-rate-distortion-options">Quality, rate control and rate distortion options</a></li>
<li><a class="reference internal" href="#quantization-options">Quantization Options</a></li>
<li><a class="reference internal" href="#loop-filters">Loop filters</a></li>
<li><a class="reference internal" href="#vui-video-usability-information-options">VUI (Video Usability Information) options</a></li>
<li><a class="reference internal" href="#bitstream-options">Bitstream options</a></li>
<li><a class="reference internal" href="#dct-approximations">DCT Approximations</a></li>
<li><a class="reference internal" href="#debugging-options">Debugging options</a></li>
<li><a class="reference internal" href="#svt-hevc-encoder-options">SVT-HEVC Encoder Options</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="introduction.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api.html"
                        title="next chapter">Application Programming Interface</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/cli.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="api.html" title="Application Programming Interface"
             >next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">x265  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014 MulticoreWare Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>
  </body>
</html>